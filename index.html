<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>Chapter 4-DAILY LIFE</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet"/>
  <style>

    body {
      font-family: 'Noto Sans KR', sans-serif;
      background-color: #f5f5f5;
      color: black;
      text-align: center;
      padding: 2em;
    }
    .hidden { display: none; }

#user-display {
  position: fixed;
  top: 10px;
  left: 10px;
  z-index: 9999;
  display: flex;
  align-items: center;
  background-color: #F5F5F5;
  padding: 8px 12px;
  border-radius: 8px;
  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.15);
  font-family: monospace;
  color: #3F40D3;
  border: 1px solid #ddd;
  min-width: 180px;
}

#persistent-nav {
  position: fixed;
  top: 110px;
  left: 10px;
  z-index: 9999;
  display: none;
  flex-direction: column;
  gap: 4px; /* 버튼 사이 간격 줄임 */
  background-color: #F5F5F5;
  padding: 6px 8px; /* 네모 자체 여백 줄임 */
  border-radius: 6px;
  box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.15);
  border: 1px solid #ddd;
  min-width: 140px; /* 폭도 작게 */
}

#persistent-nav button {
  background-color: #3F40D3;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 4px 6px;     /* 버튼 내부 여백 줄임 */
  margin: 0;            /* 버튼 외부 여백 제거 */
  cursor: pointer;
  font-family: inherit;
  font-size: 12px;      /* 글자 크기 줄임 */
  transition: background-color 0.2s ease;
}

#persistent-nav button:hover {
  background-color: #2c2db2;
}

#barcode-icon {
  width: 60px;
  height: 40px;
  margin-right: 10px;
}

#user-text > div {
  font-size: 14px;
  line-height: 1.4;
  color: #3F40D3;  /* 혹시 상속이 안 될 수도 있으니 명시 */
}
    #bgm-player {
      position: fixed;
      top: 10px;
      right: 10px;
      background: rgba(255, 255, 255, 0.8);
      padding: 10px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.2);
    }
    #bgm-player button {
      background-color: #3f40d3 !important;
      color: white;
    }

    .fade-in {
      animation: fadein 1.2s ease-in;
            }
  
    @keyframes fadein {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .typewriter {
      font-weight: bold;
      font-size: 1.1em;
      white-space: nowrap;
      overflow: hidden;
      border-right: 2px solid #3f40d3;
      width: 0;
      animation: typing 3s steps(30, end) forwards, blink 0.75s step-end infinite;
      margin-bottom: 1em;
    }

    @keyframes typing {
      from { width: 0; }
      to { width: 100%; }
    }

    @keyframes blink {
      50% { border-color: transparent; }
    }

    @keyframes pop {
    0% { transform: scale(0.7); opacity: 0; }
    60% { transform: scale(1.1); opacity: 1; }
    100% { transform: scale(1); }
  }

  #drink-result {
    animation: pop 0.6s ease-out;
    transition: all 0.2s ease;
  }
  
    button {
      font-size: 1em;
      padding: 10px 20px;
      margin: 10px;
      border: none;
      background-color: #3f40d3;
      color: white;
      border-radius: 10px;
      cursor: pointer;
    }
    button:hover {
      background-color: #2c2db2;
    }
    .nav-button {
      background-color: #444 !important;
      font-size: 0.85em !important;
      padding: 5px 12px !important;
    }
    .logo {
      width: 200px;
      margin-bottom: 1em;
    }
  </style>
</head>

<!-- !!!!여기서부터 BODY!!!! -->
<body>
  <!-- 유저 디스플레이 -->
<div id="user-display">
  <img src="zzapbarcode.png" alt="barcode" id="barcode-icon">
  <div id="user-text">
    <p id="user-class-line">User ID : UNKNOWN</p>
    <p id="coin-line">Coin : ???</p>
  </div>
</div>
  <!-- 브금 플레이어 -->
  <div id="bgm-player">
    <audio id="bgm" src="zzapbgm.mp3" loop></audio>
    <button onclick="document.getElementById('bgm').play()">▶</button>
    <button onclick="document.getElementById('bgm').pause()">⏸</button>
  </div>
  
  <!-- 로고 -->
  <img class="logo" src="zzaplogo.png"/>
  
  <!-- 내비게이션 -->
  <div id="persistent-nav">
  <button onclick="goTo('main-page-2nd')">메인 화면</button>
  <button onclick="goTo('guide')">조사 가이드</button>
  <button onclick="goTo('starting-point')">건물 입구로</button>
</div>
  
<!-- main-page 버튼 이미지 배치 -->
<div id="main-page" class="hidden" style="position: relative; height: 100vh; background-color: #f5f5f5;">
  <!-- Initiation -->
  <img src="initiation.png" class="menu-button initiation" loading="lazy" onclick="goTo('starting-point')" alt="시작">
  <!-- Guide -->
  <img src="guide.png" class="menu-button guide" loading="lazy" onclick="goTo('guide')" alt="가이드">
  <!-- Report -->
  <img src="report.png" class="menu-button report" loading="lazy" onclick="goTo('report')" alt="종료">
</div>
<style>
  .menu-button {
    position: absolute;
    cursor: pointer;
    transform-style: preserve-3d;
    transform: translateX(0) scale(1); /* 애니메이션 최종 위치 */
    transition: transform 0.4s ease;
    opacity: 0;
    pointer-events: none; /* 애니메이션 끝날 때까지 hover 방지 */
  }
  /* Initiation 버튼 */
  .initiation {
    top: 1%;
    left: 39%;
    width: 12%;
    height: auto;
    animation-name: slideInLeft;
    animation-duration: 1.2s;
    animation-delay: 0.2s;
    animation-fill-mode: forwards;
    animation-timing-function: ease-out;
  }
  /* Guide 버튼 */
  .guide {
    top: 17%;
    right: 40%;
    width: 14%;
    height: auto;
    animation-name: slideInRight;
    animation-duration: 1.2s;
    animation-delay: 0.3s;
    animation-fill-mode: forwards;
    animation-timing-function: ease-out;
  }

  /* Report 버튼 */
  .report {
    top: 36%;
    left: 39%;
    width: 15%;
    height: auto;
    animation-name: slideInLeft;
    animation-duration: 1.2s;
    animation-delay: 0.4s;
    animation-fill-mode: forwards;
    animation-timing-function: ease-out;
  }

  /* 등장 애니메이션 정의 */
  @keyframes slideInLeft {
    0% {
      transform: translateX(-80%) scale(0.9);
      opacity: 0;
    }
    100% {
      transform: translateX(0) scale(1);
      opacity: 1;
    }
  }

  @keyframes slideInRight {
    0% {
      transform: translateX(80%) scale(0.9);
      opacity: 0;
    }
    100% {
      transform: translateX(0) scale(1);
      opacity: 1;
    }
  }
/* 공통 Hover 발광 효과 */
.initiation:hover,
.guide:hover,
.report:hover {
  filter: drop-shadow(0 0 8px rgba(63, 64, 211, 0.6)); /* #3F40D3 계열 빛 */
  transition: filter 0.4s ease-in-out;
}

</style>

<!-- !!!!여기서부터 작동시킬 페이지들!!!! -->
  <!-- 로그인 화면 -->
  <div id="login-page">
    <p>ID를 입력하세요.</p>
    <input id="id-input" type="text" />
    <button onclick="checkLogin()">확인</button>
    <p id="login-error" style="color: #ff4444;"></p>
  </div>

    <!-- guide 페이지 -->
<div id="guide" class="hidden" style="padding: 3em; text-align: left; text-align: left; max-width: 700px; margin: 0 auto; background: white; border: 3px solid #3f40d3; border-radius: 10px; color: black;">
  <p><span style="font-weight: bold; color: #3f40d3;">조사 가이드</span><br><br><br>
    웹에서는 클릭, 모바일에서는 터치로 진행합니다. 자유롭게 종료하고 재실행하셔도 좋지만, 창을 닫거나 뒤로가기/새로고침할 시 진행 경과가 초기화되니 주의해 주세요.<br>
    본 조사는 별도의 서버를 사용하지 않기 때문에 세션을 종료하면 결과가 저장되지 않습니다.<br><br>
    메인 화면에서 '조사 종료→조사 마치기' 를 클릭하면 획득 코인을 알려 주는 화면이 표시됩니다. 최종 화면을 표시한 후에는 이전으로 돌아갈 수 없습니다.<br>
    최종 화면을 스크린 캡처하여 총괄계 DM으로 보내 주시면 조사 완료 처리됩니다.</p>
    <br>
    <button class="nav-button" onclick="goBack()">나가기</button>
</div>

  <!-- 레포트 주의사항 -->
  <div id="report" class="hidden">
    <p>모든 조사를 마치고 최종 리포트를 작성합니다. 진행할 시 이전 단계로 되돌아갈 수 없습니다.<br>조사를 마칠까요?</p>
    <button onclick="loadFinalReport()">조사를 마친다</button><br>
    <button class="nav-button" onclick="goBack()">취소</button>
  </div>
  
  <!-- 뒤로가기 적용된 메인 페이지 -->
<div id="main-page-2nd" class="hidden" style="position: relative; height: 100vh; background-color: #f5f5f5;">
  <!-- Initiation -->
  <img src="initiation.png" class="menu-button initiation" onclick="goBack()" alt="시작">
  <!-- Guide -->
  <img src="guide.png" class="menu-button guide" onclick="goTo('guide')" alt="가이드">
  <!-- Report -->
  <img src="report.png" class="menu-button report" onclick="goTo('report')" alt="종료">
  </div>
  
  <!-- 스타팅 포인트 -->  
  <div id="starting-point" class="hidden">
    <p><span style="font-weight: bold;">[건물 입구]</span><br><br>흰 관을 연상시키는 건물. 그 입구에 다다른다.<br>돌로 된 정문 표면에는 알 수 없는 문자가 빼곡히 음각으로 새겨져 있다.<br>공증인의 말로는 건물 안팎으로 몇몇 시설을 재정비했다고 한다.</p>
    <button onclick="goTo('inside')">건물 안으로 들어간다</button>
    <button onclick="goTo('outside')">건물 밖으로 나간다</button>
    <button onclick="goToWithBGM('dawson', 'sec.mp3')">숨겨진 공간을 확인한다</button><br>
  </div>

  <!-- 내부 1층 --> 
  <div id="inside" class="hidden">
    <p><span style="font-weight: bold;">[건물 1층]</span><br><br>대리석 바닥이 반짝거리는 건물 1층.<br>정면에 방문객을 맞이하는 <span style="color: #3f40d3;">로비</span>가 보이고, 로비 뒤편에는 뒤편에는 유리로 된 <span style="color: #3f40d3;">엘리베이터</span>가 배치되어 있어 시선이 저절로 천장을 향한다.<br>더 안쪽에 있는 복도는 <span style="color: #3f40d3;">레스토랑</span>으로 이어지는 듯하다.</p>
    <button onclick="goTo('lobby')">로비</button>
    <button onclick="goTo('elevator')">엘리베이터</button>
    <button onclick="goTo('restaurant')">레스토랑</button><br><br>
    <button class="nav-button" onclick="goTo('starting-point')">건물 입구로 돌아가기</button>
  </div>

      <!-- 로비:엘리베이터:탑승 --> 
    <div id="elevator" class="hidden">
    <p><span style="font-weight: bold;">[엘리베이터]</span><br><br>원하는 층으로 이동할 수 있다.<br>4층이 마지막 층이다.</p>
    <button onclick="goToWithSound('4thfloor','zzapelevator.mp3')">4층</button><br>
      <button onclick="goToWithSound('3rdfloor','zzapelevator.mp3')">3층</button><br>
    <button onclick="goToWithSound('2ndfloor','zzapelevator.mp3')">2층</button><br>
      <button onclick="goToWithSound('inside','zzapelevator.mp3')">1층</button><br>
 </div>     
  
    <!-- 로비 --> 
    <div id="lobby" class="hidden">
    <p><span style="font-weight: bold;">[로비]</span><br><br>건물에 들어오면 가장 먼저 보게 되는 곳.<br>우아한 석조 <span style="color: #3f40d3;">카운터</span>를 중심으로 내빈을 위한 라운지가 마련되어 있다.</p>
    <button onclick="goTo('counter')">카운터</button><br>
    <button class="nav-button" onclick="goTo('inside')">나가기</button>
  </div>

    <!-- 로비:카운터 --> 
    <div id="counter" class="hidden">
    <p><span style="font-weight: bold;">[로비]<br>[카운터]</span><br><br>오늘은 공증인의 목소리가 들리지 않는다...</p>
    <button class="nav-button" onclick="goTo('lobby')">나가기</button>
 </div>

      <!-- 레스토랑 --> 
    <div id="restaurant" class="hidden">
    <p><span style="font-weight: bold;">[레스토랑]</span><br><br>이곳에 모인 초세계급들의 식사를 책임지는 레스토랑. 식사를 하며 바깥 풍경을 바라볼 수 있도록 유리창이 나 있다.
    <br>멋들어진 양탄자를 따라 내부로 들어가면 긴 <span style="color: #3f40d3;">테이블</span>이 놓여 있다.</p>
    <button onclick="goTo('table')">테이블</button><br>
      <button class="nav-button" onclick="goTo('inside')">나가기</button>
  </div>

    <!-- 레스토랑 : 테이블 --> 
  <div id="table" class="hidden">
  <p><span style="font-weight: bold;">[레스토랑]/[테이블]</span><br><br>
  1일 3회, 식사 시간마다 각종 음식이 차려지곤 하는 테이블. 다양한 문화와 취향, 영양소까지 고루 고려한 식사가 나온다.<br>
  지금은 식사 대신... 자본을 이용해 상대를 파산시켜야 하는 보드게임 판이 펼쳐져 있다?!<br>상대는 로봇 팔인 모양이지만...</p>
 <button id="monopl" onclick="goTodel('monopoly', 'monopl')">게임에 도전한다</button><br>
  <button class="nav-button" onclick="goTo('table')">나가기</button>
  </div>

    <!-- 모노폴리 --> 
  <div id="monopoly" class="hidden">
  <p><span style="font-weight: bold;">[레스토랑]/[테이블]</span><br><br>
이런 게임에 도전할 때 가장 중요한 것은 뭐니뭐니해도 전략.<br>어떤 전략을 선택하지?</p>
  <button onclick="goTo('monopoly1')">담대한 베팅으로 한 판 승부를 노린다</button>   
  <button onclick="goTo('monopoly2')">상대의 수를 읽으며 신중하게 선택한다</button>   
  <button onclick="goTo('monopoly3')">모든 것을 운에 맡긴다</button>   
  </div>

      <!-- 모노폴리:정신 --> 
  <div id="monopoly1" class="hidden">
  <p><span style="font-weight: bold;">[레스토랑]/[테이블]</span><br><br>
담대하게 베팅하기로 했다. 결과는...?</p>
<button id="mp1btn" onclick="mnplPOW('mp1btn')">끝까지 플레이한다</button>
  </div>
  
      <!-- 모노폴리:정신 --> 
  <div id="monopoly2" class="hidden">
  <p><span style="font-weight: bold;">[레스토랑]/[테이블]</span><br><br>
신중하게 베팅하기로 했다. 결과는...?</p>
<button id="mp2btn" onclick="mnplINT('mp2btn')">끝까지 플레이한다</button>
  </div>

        <!-- 모노폴리:정신 --> 
  <div id="monopoly3" class="hidden">
  <p><span style="font-weight: bold;">[레스토랑]/[테이블]</span><br><br>
전부 운에 맡기기로 했다. 결과는...?</p>
<button id="mp3btn" onclick="mnplLUC('mp3btn')">끝까지 플레이한다</button>
  </div>

      <!-- 모노폴리:승 --> 
  <div id="monopolywin" class="hidden">
  <p><span style="font-weight: bold;">[레스토랑]/[테이블]</span><br><br>
로봇과의 승부에서 완전한 승리를 거뒀다!<br>로봇 손이 잠시 테이블 아래로 사라지더니... 코인 2개와 함께 돌아온다.<br><br><span style="font-weight: bold;">2코인을 획득했다.</span></p>
  <button class="nav-button" onclick="goTo('table')">나가기</button>
  </div>

        <!-- 모노폴리:패 --> 
  <div id="monopolylose" class="hidden">
  <p><span style="font-weight: bold;">[레스토랑]/[테이블]</span><br><br>
최선을 다했지만... 참패하고 말았다. 이 전략이 잘 맞지 않았던 건가...?!<br>그래도 참가상인지, 로봇 손이 코인 1개를 손에 쥐여 준다.<br><br><span style="font-weight: bold;">1코인을 획득했다.</span></p>
  <button class="nav-button" onclick="goTo('table')">나가기</button>
  </div>

      <!-- 바깥 1층 --> 
    <div id="outside" class="hidden">
    <p><span style="font-weight: bold;">[건물 바깥]</span><br><br>소금기 섞인 바람이 저편에서부터 불어온다. 평화롭다는 착각을 하게 될 정도로 좋은 날씨...<br>건물에서 나가는 길을 쭉 따라가면 <span style="color: #3f40d3;">항구</span>로 이어진다.<br>항구에서 조금 떨어진 곳에 <span style="color: #3f40d3;">메모리얼 파크</span>가 위치해 있다.</p>
    <button onclick="goToWithSound('port', 'zzapwalk_seaside.wav')">항구</button>
    <button onclick="goToWithSound('memorial', 'zzapwalk_seaside.wav')">메모리얼 파크</button><br>
    <button class="nav-button" onclick="goTo('starting-point')">건물 입구로 돌아가기</button>
  </div>
  
    <!-- 메모리얼 파크 --> 
    <div id="memorial" class="hidden">
    <p><span style="font-weight: bold;">[메모리얼 파크 입구]</span><br><br>흰 울타리로 둘러싸여 구획지어진 공간이 바다와 접하고 있다.<br>조금은 엄숙한 기분이 들지도...<br><br>
    <span style="color: #737373;">'메모리얼 파크에 입장한다' 버튼 클릭 시 효과음이 재생됩니다.</span></p>
    <button onclick="goToWithSoundNL('memorial1', 'zzapsea.mp3')">메모리얼 파크에 입장한다</button><br>
    <button class="nav-button" onclick="goTo('outside')">나가기</button>
  </div>

      <!-- 메모리얼 파크:1 --> 
    <div id="memorial1" class="hidden">
    <p><span style="font-weight: bold;">[메모리얼 파크]</span><br><br>짧게 깎인 잔디 위로 새하얀 비석이 눈길을 끈다.<br>이곳은 세상을 떠난 초세계급을 기리는 메모리얼 파크.<br>규칙적으로 들려오는 파도 소리가 장송곡처럼 잔잔히 흐른다.<br>메모리얼 파크를 가로지르는 길은 꽃이 만발한 <span style="color: #3f40d3;">화원</span>으로 이어진다.</p>
    <button onclick="goTo('memorial-lorem')">묘비</button>
    <button onclick="goTo('garden')">화원</button><br>
    <button class="nav-button" onclick="goToWithoutzzapsea('memorial')">나가기</button>
  </div>

      <!-- !!메모리얼 파크:화원 --> 
    <div id="garden" class="hidden">
    <p><span style="font-weight: bold;">[메모리얼 파크]<br>[화원]</span><br><br>오색의 꽃이 화려하게 피어난 화원. 장미 덤불이 시야를 가릴 정도의 높이로 다듬어져 있어 마치 미로를 연상케 한다.<br>한켠에는 <span style="color: #3f40d3;">헌화용 꽃</span>을 자유롭게 가져갈 수 있는 공간이 있다. 하나 골라 보는 것도 좋겠지...<br>화원 안쪽에는 공중전화 박스를 닮은 작은 <span style="color: #3f40d3;">부스</span>가 설치되어 있다.</p>
    <button id="flowerpick" onclick="goTodel('gardenflower', 'flowerpick')">헌화용 꽃을 고른다</button>
    <button onclick="goTo('fltest0')">부스</button><br>
    <button class="nav-button" onclick="goTo('memorial1')">나가기</button>
  </div>
  
      <!-- !!메모리얼 파크:부스0 --> 
    <div id="fltest0" class="hidden">
    <p><span style="font-weight: bold;">[메모리얼 파크]/[화원]<br>[부스]</span><br><br>부스 안쪽으로 들어가 보면, 공중전화를 닮은 전화기가 놓여 있다. 정말 공중전화 박스였던 걸까?<br>하지만 전화기는 무척 구식이고, 숫자 버튼도 눌리지 않는다.<br>전화기 아래에 작게 안내문이 쓰여 있다.<br><br><em>'미래의 자신에게 마음을 전해 보세요. 기록을 통해 1년 뒤의 당신에게 전달해 드립니다.'</em></p>
    <button id="flt" onclick="goTodel('fltest1', 'flt')">수화기를 든다</button><br>
    <button class="nav-button" onclick="goTo('garden')">나가기</button>
  </div>

        <!-- !!메모리얼 파크:부스1 --> 
    <div id="fltest1" class="hidden">
    <p><span style="font-weight: bold;">[메모리얼 파크]/[화원]<br>[부스]</span><br><br>미래의 자신에게 짧은 메시지를 남겨 보자.</p>
     <input type="text" id="gongmo">
  <div id="gongmobox" style="display: block; margin-top: 1em;">
  <button onclick="addgongmo()">확인</button>
  </div>
    <p id="gongmo-result"></p>
    <button class="nav-button" onclick="goTo('fltest0')">나가기</button>
  </div>
  
        <!-- !!메모리얼 파크:화원:꽃 --> 
    <div id="gardenflower" class="hidden">
    <p><span style="font-weight: bold;">[화원]</span><br><br>마음에 드는 꽃을 고르자.</p>
    <button onclick="goTo('flowerobtain')">아데니움</button><br>
    <button onclick="goTo('flowerobtain')">능소화</button><br>
    <button onclick="goTo('flowerobtain')">거베라</button><br>
      <button onclick="goTo('flowerobtain')">라벤더</button><br>
  </div>

      <!-- !!메모리얼 파크:화원:꽃 --> 
    <div id="flowerobtain" class="hidden">
    <p><span style="font-weight: bold;">[화원]</span><br><br>정성을 들여 꽃을 골랐다. 이 정도면 괜찮으려나...</p>
    <button class="nav-button" onclick="goTo('garden')">나가기</button>
  </div>

      <!-- !!메모리얼 파크:로렘의 묘비 --> 
    <div id="memorial-lorem" class="hidden">
    <p><span style="font-weight: bold;">[메모리얼 파크]<br>[묘비]</span><br><br>이제는 묘 여섯 개가 줄지어 있다.<br>벌써 이렇게 됐나…<br>바라보고 있으니 마음이 복잡해진다.</p>
    <button id="flowerbtn" onclick="giveflower('flowerbtn')">헌화한다</button><br>
    <button class="nav-button" onclick="goTo('memorial1')">나가기</button>
  </div>

      <!-- !!메모리얼 파크:로렘의 묘비:헌화 --> 
    <div id="flowerpage" class="hidden">
    <p><span style="font-weight: bold;">[메모리얼 파크]<br>[로렘의 묘비]</span><br><br>묘비 앞에 꽃을 가지런히 올려놓았다. 바람에 꽃잎이 살짝 흔들린다.<br>잠시 눈을 감았다 뜨니... 마음이 한결 가벼워졌다.</p>
    <button class="nav-button" onclick="goTo('memorial1')">나가기</button>
  </div>
    <!-- 항구 --> 
    <div id="port" class="hidden">
    <p><span style="font-weight: bold;">[항구]</span><br><br>지금은 폭파의 잔해만 남은 작은 항구. 한때는 이 섬이 바깥 세상과 연결되어 있음을 알려 주는 유일한 표식이었다.<br>소금 냄새가 선명해짐과 동시에 갈매기 우는 소리가 들려온다.<br><br>
    <span style="color: #737373;">'항구 안쪽으로 들어간다' 버튼 클릭 시 효과음이 재생됩니다.</span></p>
    <button onclick="goToWithSoundNL('port1', 'zzapport.mp3')">항구 안쪽으로 들어간다</button><br>    
    <button class="nav-button" onclick="goTo('outside')">나가기</button>
  </div>

      <!-- 항구 : 1 --> 
      <div id="port1" class="hidden">
    <p><span style="font-weight: bold;">[항구]</span><br><br>이곳으로 올 때 탔던 배는 이미 형체도 보이지 않지만...<br>그 옆으로 이어지는 <span style="color: #3f40d3;">백사장</span>에서는 제법 휴양지 분위기가 풍긴다.</p>
    <button onclick="goTo('sand')">백사장</button><br>
    <button class="nav-button" onclick="goToWithoutzzapsea('port')">나가기</button>
  </div>

          <!-- 항구 : 백사장 --> 
      <div id="sand" class="hidden">
    <p><span style="font-weight: bold;">[항구]<br>[백사장]</span><br><br>
    끝없는 바다와 모래사장이 시야를 채운다.<br>너울거리는 파도가 흰 모래에 섞여 부서지고, 열기를 싣은 바람이 피부를 간질인다.<br>육지와 가까운 곳에 <span style="color: #3f40d3;">바캉스 존</span>이 보인다... 이건 뭐지?<br>조금 떨어진 곳에 <span style="color: #3f40d3;">음료 디스펜서 V4.0</span>도 놓여 있다.<br>V4.0...?</p>
    <button onclick="goTo('zone')">바캉스 존</button>
    <button onclick="goTo('dispenser')">음료 디스펜서 V4.0</button><br>     
    <button class="nav-button" onclick="goTo('port1')">나가기</button>
  </div>

  <!-- 백사장 : 음료 디스펜서 --> 
  <div id="dispenser" class="hidden">
  <p><span style="font-weight: bold;">[항구]/[백사장]<br>[음료 디스펜서]</span><br><br>
  커피나 차 등의 음료를 자유롭게 이용 가능한 디스펜서.<br>기본적인 음료는 물론, 여러 가지 맛의 원두와 티백, 시럽도 비치되어 있어 얼마든지 원하는 음료를 제조 가능할 것 같다.<br>
  한쪽에는 '랜덤 디스펜서 : 1일 3회 이용 가능' 이라고 적힌 익숙한 상자가 있다.<br>그러고 보니 랜덤 음료 응모함이 보이지 않는다. 이제 공모전은 끝인 걸까?</p>
  <button onclick="goTo('dispenser1')">음료를 뽑는다</button><br>
  <button class="nav-button" onclick="goTo('sand')">나가기</button>
  </div>
  
  <!-- 카페 : 음료 디스펜서 1 (음료를 뽑는다) -->
  <div id="dispenser1" class="hidden">
  <p><span style="font-weight: bold;">[항구]/[백사장]<br>[음료 디스펜서]</span><br><br>
  원하는 음료를 가져가거나 랜덤 디스펜서를 이용해 보자. 랜덤 디스펜서는 1일 3회 사용 제한이 있다.<br><br>이번 주의 랜덤 디스펜서 테마는 '싫어하는 사람에게 주고 싶은 음료'라고 한다.</p>
  <button onclick="selectDrink('mango')">망고 주스</button>
  <button onclick="selectDrink('soda')">소다 플로트</button>
  <button onclick="selectDrink('bingsu')">눈꽃 빙수</button>
  <button onclick="selectRandomDrink()">랜덤</button>
  <p id="drink-result" style="margin-top: 2em; font-weight: bold;"></p>
  <button class="nav-button" onclick="goTo('dispenser')">나가기</button>
</div>

         <!-- 항구 : 백사장 --> 
      <div id="zone" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
    '바캉스 존'이라는 큰 팻말이 걸린 곳은 완전히 해수욕장으로 단장한 상태다.<br>모래성을 쌓을 수 있는 도구들, 망원경, 각종 튜브와 물놀이 장비...<br>너무 멀리 헤엄쳐 가지 않도록 부표가 마련되어 있다.<br>다양한 활동을 즐길 수 있을 것 같다.</p>
    <button id="zone1btn" onclick="goTodel('zone1', 'zone1btn')">모래성 쌓기</button><br>
      <button id="zone1btn" onclick="goTodel('zone2', 'zone2btn')">망원경 들여다보기</button><br>
    <button id="zone3btn" onclick="goTodel('zone3', 'zone3btn')">바다에서 수영하기</button><br>
    <button class="nav-button" onclick="goTo('sand')">나가기</button>
  </div>

           <!-- 항구 : 백사장 --> 
      <div id="zone1" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
  작은 플라스틱 삽과 모양틀, 양동이 등이 있다.<br>원하는 모양의 모래성을 만들어 보자.<br>기록체를 위해 모래성 쌓기를 도와줄 로봇 팔이 설치되어 있다.</p>
  <button onclick="goTo('zone1-1')">귀여운 동물 모양 모래성을 조각한다</button><br> 
  <button onclick="goTo('zone1-2')">모래를 최대한 높게 쌓아 거대 모래성을 만든다</button><br> 
  <button onclick="goTo('zone1-3')">모래성으로 정교한 성곽을 만든다</button><br> 
  </div>

            <!-- 항구 : 백사장 --> 
      <div id="zone1-1" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
  귀여운 강아지와 고양이 모양 모래성을 만들었다! 보고만 있어도 마음이 따뜻해진다...<br>그런데 갑자기 등 뒤에서부터 강한 바람이 분다!<br>이럴 때는... 어떡하지?!</p>
  <button onclick="goTo('zone1-4')">온몸으로 모래성을 방어한다</button><br> 
  <button onclick="goTo('zone1-5')">아무것도 하지 않고 모래성을 믿어 준다</button><br> 
  <button onclick="goTo('zone1-6')">옆에 놓인 파라솔로 바람을 막아 본다</button><br> 
  </div>

              <!-- 항구 : 백사장 --> 
      <div id="zone1-2" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
 거대하고 높은 모래성을 만들었다! 웅장함이 느껴진다...<br>그런데 갑자기 등 뒤에서부터 강한 바람이 분다!<br>이럴 때는... 어떡하지?!</p>
  <button onclick="goTo('zone1-4')">온몸으로 모래성을 방어한다</button><br> 
  <button onclick="goTo('zone1-5')">아무것도 하지 않고 모래성을 믿어 준다</button><br> 
  <button onclick="goTo('zone1-6')">옆에 놓인 파라솔로 바람을 막아 본다</button><br> 
  </div>
              <!-- 항구 : 백사장 --> 
      <div id="zone1-3" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
정교한 성곽을 만들었다! 마치 예술 작품을 보는 것 같다...<br>그런데 갑자기 등 뒤에서부터 강한 바람이 분다!<br>이럴 때는... 어떡하지?!</p>
  <button onclick="goTo('zone1-4')">온몸으로 모래성을 방어한다</button><br> 
  <button onclick="goTo('zone1-5')">아무것도 하지 않고 모래성을 믿어 준다</button><br> 
  <button onclick="goTo('zone1-6')">옆에 놓인 파라솔로 바람을 막아 본다</button><br> 
  </div>

              <!-- 항구 : 백사장 --> 
      <div id="zone1-4" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
정신없는 와중 모래성을 방어하려 했다가... 우당탕!<br>앞으로 고꾸라지고 말았다.<br>모래성은 처참하게 무너지고 말았다...</p>
      <button class="nav-button" onclick="goTo('zone')">나가기</button>
  </div>

              <!-- 항구 : 백사장 --> 
      <div id="zone1-5" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
이 정도 바람에 질 리가 없어! 모래성을 믿어 주기로 했다...<br><br>믿음의 힘인지, 모래성은 무사했다...!<br>옆에서 로봇 팔이 1코인을 내밀었다. 모래성을 완성한 상일까?<br><br><span style="font-weight: bold;">1코인을 획득했다.</span></p>
      <button class="nav-button" onclick="goTo('zone')">나가기</button>
  </div>
              <!-- 항구 : 백사장 --> 
      <div id="zone1-6" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
허겁지겁 파라솔을 가져다 댔다.<br>하지만... 이럴 수가!<br>파라솔은 휘이잉 소리를 내며 바람에 날려 가고 말았다...<br>파라솔에 맞은 모래성이 바스라졌다. 이럴 수가...</p>
      <button class="nav-button" onclick="goTo('zone')">나가기</button>
  </div>

               <!-- 항구 : 백사장 --> 
      <div id="zone2" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
망원경 너머를 들여다보았다.<br>별빛에 윤슬이 반짝이는 밤바다가 눈앞으로 다가온다.<br>이런 풍경이 떠오르는 노래를 어디선가 들었던가...<br>저절로 흥얼거리게 될 것 같다.</p>
  <button class="nav-button" onclick="goTo('zone')">나가기</button>
  </div>

             <!-- 항구 : 백사장 --> 
      <div id="zone3" class="hidden">
    <p><span style="font-weight: bold;">[항구]/[백사장]<br>[바캉스 존]</span><br><br>
튜브와 구명조끼 등이 배치되어 있어 바다에서 수영하는 것도 가능할 것 같다.<br>문득 바다를 바라보면, 분홍색 돌고래 튜브가 해안가에서 둥둥 떠다니고 있다.<br>올라타면 거친 파도도 막아줄 것만 같은 든든함이 느껴진다.<br><br>분홍 돌고래와 함께 바다 수영을 만끽했다!</p>
  <button class="nav-button" onclick="goTo('zone')">나가기</button>
  </div>
  
    <!-- 2층 --> 
    <div id="2ndfloor" class="hidden">
    <p><span style="font-weight: bold;">[2층]</span><br><br>왼쪽 복도는 내빈용 객실로, 오른쪽 복도는 회의실로 이어진다.<br>2층은 이미 둘러보았으니 다른 층을 확인하자.</p>
    <button onclick="goTo('elevator')">엘리베이터</button><br>
 </div>     
  
    <!-- 3층 --> 
    <div id="3rdfloor" class="hidden">
    <p><span style="font-weight: bold;">[3층]</span><br><br>3층으로 올라오면, 한눈에 봐도 굉장히 다채로운 시설이 있음을 확인할 수 있다.<br>여러 개의 방문에 반짝거리는 문패가 붙어 있는데, 그야말로 '문화생활'에 걸맞는 시설들이다.<br>창문 너머로는 섬의 모습이 내려다보인다.<br>저 멀리 메모리얼 파크에 묘비 다섯 개가 늘어서 있다...<br><br>도서관의 추천도서 목록을 갱신했다는 안내문이 붙어 있다.</p>
    <button onclick="goTo('elevator')">엘리베이터</button><br>
    <button onclick="goTo('music')">음악실</button>
    <button onclick="goTo('cinema')">영화관</button>
    <button onclick="goTo('art')">미술실</button><br>
    <button onclick="goTo('stage')">공연장</button>
    <button onclick="goTo('library')">도서관</button>
    <button onclick="goTo('lab')">자유연구실</button>
 </div>     

    <!-- 음악실 --> 
    <div id="music" class="hidden">
    <p><span style="font-weight: bold;">[음악실]</span><br><br>다양한 악기와 음반을 모아 둔 음악실. 전과 달라진 점은 없는 것 같다. 쓰러져 있었던 딥 블루의 CD가 다시 말끔히 세워져 있다.</p>
    <button class="nav-button" onclick="goTo('3rdfloor')">나가기</button>
  </div>

    <!-- 영화관 --> 
    <div id="cinema" class="hidden">
    <p><span style="font-weight: bold;">[영화관]</span><br><br>소규모지만, 제법 영화관 분위기가 나는 장소. 전과 크게 달라진 점은 없지만,<br><span style="color: #3f40d3;">"음료 디스펜서는 4층의 카페로 이전했습니다"</span> 라는 안내문이 붙어 있다.</p>
    <button class="nav-button" onclick="goTo('3rdfloor')">나가기</button>
    </div>   
  
    <!-- 미술실 --> 
    <div id="art" class="hidden">
    <p><span style="font-weight: bold;">[미술실]</span><br><br>예술적 소양을 함양할 수 있는 공간. 이곳저곳 이젤과 화구가 놓여 있다.<br>그동안 초세계급들이 그린 그림들이 초세계급 화가의 그림 옆에 나란히 전시되어 있다.</p>
    <button class="nav-button" onclick="goTo('3rdfloor')">나가기</button>
    </div>   
  
    <!-- 공연장 --> 
    <div id="stage" class="hidden">
    <p><span style="font-weight: bold;">[공연장]</span><br><br>원형 극장의 형태를 빌려온 공연장.<br>지금도 공연장 사용은 문제 없이 가능하지만, 보고 있으면 사건 현장이 떠오른다...</p>
    <button class="nav-button" onclick="goTo('3rdfloor')">나가기</button>
  </div>
  
    <!-- 도서관 --> 
    <div id="library" class="hidden">
    <p><span style="font-weight: bold;">[도서관]</span><br><br>장서의 종류별로 정리된 책장이 숲처럼 펼쳐진다.<br>지식의 보고라고 불리기에 손색없을 정도의 대형 도서관. <span style="color: #3f40d3;">책장</span>에서 책을 고를 수 있을 것 같다.<br>각 서가의 추천도서를 새로 구비했다는 안내문이 붙어 있다.</p>
    <button onclick="goTo('bookshelf')">책장</button><br>
    <button class="nav-button" onclick="goTo('3rdfloor')">나가기</button>
    </div>   

    <!-- 책장 --> 
    <div id="bookshelf" class="hidden">
    <p><span style="font-weight: bold;">[도서관]/[책장]</span><br><br>다양한 언어의 책이 꽂혀 있는 책장.<br>쉽게 읽을 수 있는 책들도 있고, 전공자가 아니면 이해할 수 없는 수준의 전문서적도 있다.<br>평생 책만 읽어도 다 읽어치울 수 없을 것 같은 양이다.<br>서가별로 추천도서도 모아 둔 모양인데, 한번 책을 골라 볼까?</p>
    <button onclick="goTo('bookshelf1')">종교 서가의 추천도서</button>
    <button onclick="goTo('bookshelf4')">문학 서가의 추천도서</button>
    <button onclick="goTo('bookshelf2')">아동문학 서가의 추천도서</button><br>
    <button onclick="goTo('bookshelf3')">철학 서가의 추천도서</button>
    <button onclick="goTo('bookshelf5')">자연과학 서가의 추천도서</button>
    <button onclick="goTo('bookshelf6')">사회과학 서가의 추천도서</button><br>
    <button class="nav-button" onclick="goTo('library')">나가기</button>
    </div>   

    <!-- 책장 --> 
    <div id="bookshelf1" class="hidden">
    <p><span style="font-weight: bold;">[도서관]/[책장]</span><br><br>종교 서가의 추천도서는...<br>한국의 민간 신앙인 무속신앙에 대해 정리해 둔 책이다.<br>귀신을 쫓는 방법 중에는 구타를 가하는 '구타법' 이라는 것도 있다고 한다.</p>
    <button class="nav-button" onclick="goTo('bookshelf')">나가기</button>
    </div>   

      <!-- 책장 --> 
    <div id="bookshelf4" class="hidden">
    <p><span style="font-weight: bold;">[도서관]/[책장]</span><br><br>문학 서가의 추천도서는...<br>'괴물이 잠든 눈' 이라는 제목의 소설.<br>작가의 이름은 리반 에케로스.</p>
    <button class="nav-button" onclick="goTo('bookshelf')">나가기</button>
    </div>   

    <!-- 책장 --> 
    <div id="bookshelf2" class="hidden">
    <p><span style="font-weight: bold;">[도서관]/[책장]</span><br><br>아동문학 서가의 추천도서는...<br>행복을 전해 주는 새를 찾아 모험을 떠난 우체부에 관한 동화책이다.<br>삽화의 인물이 누군가를 닮은 기분이 들지만, 픽션이다.</p>
    <button class="nav-button" onclick="goTo('bookshelf')">나가기</button>
    </div>   

    <!-- 책장 --> 
    <div id="bookshelf3" class="hidden">
    <p><span style="font-weight: bold;">[도서관]/[책장]</span><br><br>철학 서가의 추천도서는...<br>'기억이란 무엇인가?' 라는 제목의 책.<br>한 번 잊어버린 기억을 떠올리는 것에 대한 다양한 관점을 소개하고 있다.</p>
    <button class="nav-button" onclick="goTo('bookshelf')">나가기</button>
    </div>   

    <!-- 책장 --> 
    <div id="bookshelf5" class="hidden">
    <p><span style="font-weight: bold;">[도서관]/[책장]</span><br><br>자연과학 서가의 추천도서는...<br>밤하늘의 다양한 별들을 찾는 방법을 알기 쉽게 설명한 책이다.<br>작은곰자리에 속한 북극성을 설명한 페이지에 책갈피가 꽂혀 있다.</p>
    <button class="nav-button" onclick="goTo('bookshelf')">나가기</button>
    </div>   

    <!-- 책장 --> 
    <div id="bookshelf6" class="hidden">
    <p><span style="font-weight: bold;">[도서관]/[책장]</span><br><br>사회과학 서가의 추천도서는...<br>대도시에서 발생하는 소매치기 문제에 대해 다룬 책.<br>소매치기가 가장 많은 도시로 꼽힌 곳은 바르셀로나. 프랑스 파리는 5위에 올라 있다.</p>
    <button class="nav-button" onclick="goTo('bookshelf')">나가기</button>
    </div>   
  
    <!-- 자유연구실 --> 
    <div id="lab" class="hidden">
    <p><span style="font-weight: bold;">[자유연구실]</span><br><br>학자와 연구자들을 위한 자유연구실.<br>전과 크게 달라진 점은 없다.</p>
    <button class="nav-button" onclick="goTo('3rdfloor')">나가기</button>
    </div>   



      <!-- 4층 --> 
    <div id="4thfloor" class="hidden">
    <p><span style="font-weight: bold;">[4층]</span><br><br>공증인이 '리프레시 존' 이라고 불렀던 4층.<br>엘리베이터에서 내리자마자 눈에 들어오는 것은 대형 <span style="color: #3f40d3;">트레이닝 룸</span>이다.<br>복도를 왼쪽으로 돌면 <span style="color: #3f40d3;">카페</span>가 있고, 오른쪽으로 돌면 <span style="color: #3f40d3;">스파</span>라고 적힌 방이 나온다.<br>그리고 엘리베이터 뒤편까지 한 바퀴를 빙 돌면... <span style="color: #3f40d3;">문패에 아무것도 쓰여 있지 않은 방</span>이 나타난다.</p>
    <button onclick="goTo('elevator')">엘리베이터</button><br>
    <button onclick="goTo('training')">트레이닝 룸</button>
    <button onclick="goTo('cafe')">카페</button>
    <button onclick="goTo('spa')">스파</button><br>
    <button onclick="goTo('strange')">정체불명의 방</button>
 </div>  
  
 <!-- 트레이닝룸 --> 
<div id="training" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]</span><br><br>다양한 <span style="color: #3f40d3;">운동기구</span>로 체력을 기를 수 있는 트레이닝 룸.<br>머리가 복잡해 힘들 때는 땀을 흘리며 잊어 보는 것은 어떨까?<br>트레이닝 룸 안쪽에는 다른 시설로 이어지는 복도가 나 있다.<br><span style="color: #3f40d3;">수영장</span>과 <span style="color: #3f40d3;">클라이밍장</span>이 있는 것 같다.<br>한쪽에는 <span style="color: #3f40d3;">샤워실</span>도 배치되어 있다.</p>
    <button onclick="goTo('gigu')">운동기구</button>
    <button onclick="goTo('swimming')">수영장</button>
    <button onclick="goTo('climbing')">클라이밍장</button>
    <button onclick="goTo('shower')">샤워실</button><br>
    <button class="nav-button" onclick="goTo('4thfloor')">나가기</button>
 </div> 

   <!-- 감시카메라룸 --> 
<div id="strange" class="hidden">
<p><span style="font-weight: bold;">[정체불명의 방]</span><br><br>
아무것도 쓰여 있지 않은 문을 조심스레 열었다. 눈앞에 보이는 것은...<br>수없이 많은 작은 화면들로 빽빽하게 메워진 방이다.<br>각각의 화면은 어딘가의 현장 영상을 CCTV처럼 송출하고 있는 듯하다...</p>
    <button onclick="goTo('strange1')">자세히 본다</button><br>
    <button class="nav-button" onclick="goTo('4thfloor')">나가기</button>
 </div> 

 <!-- 감시카메라룸 --> 
<div id="strange1" class="hidden">
<p><span style="font-weight: bold;">[정체불명의 방]</span><br><br>
일부는 이 섬의 곳곳을 비추고 있다. 다른 화면은 대부분 처음 보는 장소의 영상이지만...<br>눈에 익은 풍경이 있다.<br><br>직장, 집, 평소 자주 가곤 하던 곳...<br>이 섬에 오기 전까지 일상의 일부를 구성하던 장소들이다.<br><br>... ...<br>이 방의 정체는 대체 뭐지?<br>우리의 일상은 기록되고 있었던 건가...?</p>
<button class="nav-button" onclick="goTo('strange')">나가기</button>
 </div> 

   <!-- 운동기구 --> 
<div id="gigu" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]</span><br><br>
다채로운 종류의 운동기구가 놓여 있다.<br>간단한 런닝머신이나 덤벨 같은 것도 있지만, 초보자는 도무지 사용 방법을 알 수 없을 듯한 무시무시한 기구들도 보인다.<br>자세가 틀어졌을 때는 <span style="color: #3f40d3;">거울</span>을 보며 교정해 보자.<br>이왕 온 김에 가볍게 운동을 하고 가는 것도 나쁘지는 않을 것 같은데... 시도해 볼까?</p>
    <button onclick="goTo('running')">런닝머신</button>
    <button onclick="goTo('bench')">벤치프레스</button>
    <button onclick="goTo('whatever')">정체를 알 수 없는 운동기구</button>
      <button onclick="goTo('mirror')">거울</button><br>
    <button class="nav-button" onclick="goTo('training')">나가기</button>
 </div> 

     <!-- 런닝머신 --> 
<div id="running" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[런닝머신]</span><br><br>
평범한 런닝머신이다.<br>사용자의 컨디션에 맞춘 자동 안내 기능이 탑재되어 있다고 쓰여 있다.</p>
    <button id="runbtn" onclick="goTodel('running1', 'runbtn')">런닝머신을 탄다</button><br>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

     <!-- 런닝머신 --> 
<div id="running1" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[런닝머신]</span><br><br>
런닝머신에 올라타 작동 버튼을 누르자... 런닝머신에 부착된 스피커로 공증인의 목소리가 흘러나오기 시작했다...<br><em>"안녕하세요, 유언집행자 님. 가벼운 조깅 코스를 시작하도록 하겠습니다."</em></p>
    <button onclick="goTo('running2')">꾹 참고 계속 탄다</button>
    <button onclick="goTo('runningfail')">그만둔다</button><br>
 </div> 

     <!-- 런닝머신 --> 
<div id="running2" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[런닝머신]</span><br><br>
<em>"처음부터 무리하지 않고 자신에게 맞는 올바른 강도를 찾아 나가는 과정이 중요합니다."</em><br><br>공증인의 목소리가 끊임없이 들리며 격려와 건강 팁을 안내해 준다...</p>
    <button onclick="goTo('running3')">꾹 참고 계속 탄다</button>
    <button onclick="goTo('runningfail')">역시 그만둔다</button><br>
 </div> 

     <!-- 런닝머신 --> 
<div id="running3" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[런닝머신]</span><br><br>
공증인이 뭐라고 말하든 꾹 참아가며 런닝을 마쳤다.<br>어쩐지 몸 말고 튼튼한 멘탈도 단련된 기분이다...<br>런닝머신을 전부 타고 나자, 가벼운 짤랑 소리와 함께 어디선가 동전 하나가 떨어졌다.<br><br><span style="font-weight: bold;">1코인을 획득했다.</span></p>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

     <!-- 런닝머신 --> 
<div id="runningfail" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[런닝머신]</span><br><br>
종료 버튼을 퍽 누르자 공증인의 목소리가 즉시 꺼졌다. 하지만...<br><br>"이런. 건강에 대한 조언을 무시하시다니 유감입니다, 유언집행자 님."<br><br>이번에는 트레이닝룸의 스피커로 공증인의 목소리가...<br>이 런닝머신, 사실은 멘탈 훈련이었나?</p>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

     <!-- 벤.프 --> 
<div id="bench" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[벤치프레스]</span><br><br>
근력 운동을 할 수 있는 벤치프레스.<br>벤치에 등을 대고 누운 채로 역기를 들어올리면 된다.</p>
    <button id="ppbtn" onclick="getpopcorn('ppbtn')">벤치프레스를 사용한다</button><br>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

     <!-- 벤.프 --> 
<div id="bench1" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[벤치프레스]</span><br><br>
뭘 기대했지? 당연히 역기는 꼼짝도 하지 않았다...<br>계속해서 역기를 붙들고 있었더니 잡은 부분이 따끈해졌다.<br>역기와 조금 친해진 것 같다...</p>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

       <!-- 벤.프 --> 
<div id="bench2" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[벤치프레스]</span><br><br>
가뿐하게 역기를 들어올렸다! 이 정도야 식은 죽 먹기다.<br>다음에는 조금 더 무게를 늘려 볼까?</p>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

       <!-- 벤.프 --> 
<div id="bench3" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[벤치프레스]</span><br><br>
최선을 다해서 역기를 들어올리려 노력했다...<br>가뿐하게는 아니지만, 제법 그럴 듯한 자세로 성공한 것 같다.<br>생각보다 성취감 있을지도?</p>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

     <!-- 이상한 기구 --> 
<div id="whatever" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[정체불명의 기구]</span><br><br>
이건 대체 뭐지? 여기저기 핸들과 손잡이가 부착되어 있고, 무거워 보이는 추가 몇 개 달려 있다.<br>어떻게 사용하는 것인지 짐작도 가지 않는다...</p>
    <button id="wevbtn" onclick="goTodel('whatever1', 'wevbtn')">사용한다</button><br>
    <button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 
  
     <!-- 이상한 기구 --> 
<div id="whatever1" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[정체불명의 기구]</span><br><br>
기구 앞에 서자 스르륵... 기계 몸체가 갈라지듯이 열렸다.<br>설마 이 안으로 들어가라는 건가...?</p>
    <button onclick="goTo('whatever3')">들어간다</button>
 </div> 

       <!-- 이상한 기구 --> 
<div id="whatever3" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[정체불명의 기구]</span><br><br>
차가운 기계 안에 들어가 서자 시야가 가려지더니...<br>"유언집행자 님의 오늘의 건강 점수는 <span id="recording-score-4"></span><br><span id="comment"></span>"<br>그런 기계음이 들려온 후 몸이 열렸다. ...이거, 뭘 체크한 거지?</p>
<button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

<!-- 거울 --> 
<div id="mirror" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[운동기구]<br>[정체불명의 기구]</span><br><br>
어디서든 자세를 점검할 수 있도록 대형 거울이 벽에 붙어 있다.<br>익숙한 스스로의 모습이 비친다.</p>
<button class="nav-button" onclick="goTo('gigu')">나가기</button>
 </div> 

      <!-- 클라이밍장 --> 
    <div id="climbing" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[클라이밍장]</span><br><br>
색다른 운동을 통해 평소에 쓰지 않는 근육을 기를 수 있는 클라이밍장.<br>난이도에 따라 다양한 방식으로 그립이 배치되어 있다.<br>초보자용 코스도 있지만... 잠깐, 지금은 전부 닫혀 있잖아?<br><br>유일하게 이용 가능한 것은 <span style="color: #3f40d3;">불지옥 난이도 코스</span>뿐이다.</p>
    <button onclick="goTo('climbing1')">불지옥 난이도 코스를 살펴본다</button><br>
    <button class="nav-button" onclick="goTo('training')">나가기</button>
    </div>   

    <!-- 클라이밍장 --> 
    <div id="climbing1" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[클라이밍장]</span><br><br>
이런 걸 사람이 할 수 있을 리 없잖아! 라는 생각이 드는 수준으로 띄엄띄엄 배치된 그립이 보인다...<br>하지만 바라보고 있으면 왠지 승부욕이 끓어오른다.</p>
    <button id="bzobtn" onclick="chall('bzobtn')">불지옥 난이도 코스에 도전한다!</button><br>
    <button class="nav-button" onclick="goTo('climbing')">나가기</button>
    </div>   

    <!-- 클라이밍장 --> 
    <div id="climbing2" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[클라이밍장]</span><br><br>
해 보기도 전에 포기할 수는 없지! 야심차게 도전했다.<br>하지만 첫 그립을 잡는 순간 깨달았다...<br>여기서 조금도 더 나아갈 수 없다!<br><br>하지만 도전한 것만으로도 의미가 있었다. 격려를 보내듯 허공에서 코인 두 개가 떨어졌다.<br><br><span style="font-weight: bold;">2코인을 획득했다.</span></p>
    <button class="nav-button" onclick="goTo('training')">나가기</button>
    </div>  
 
    <!-- 클라이밍장 --> 
    <div id="climbing3" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[클라이밍장]</span><br><br>
이 정도에 가로막힐 수 없지! 어려운 코스를 자신 있게 돌파했다.<br>쉽지 않았지만 마침내 맨 꼭대기의 그립까지 제대로 터치했다.<br>멋진 승부였다! 허공에서 코인 두 개가 떨어졌다.<br><br><span style="font-weight: bold;">2코인을 획득했다.</span></p>
    <button class="nav-button" onclick="goTo('training')">나가기</button>
    </div>   

 <!-- 수영장 --> 
<div id="swimming" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]</span><br><br>액티비티와 함께 하며 고민을 씻어낼 수 있는 수영장. 수영장 특유의 소독약 냄새가 풍긴다.<br>색색의 레인이 설치된 25m짜리 <span style="color: #3f40d3;">메인 풀</span>, 물놀이 장비를 빌릴 수 있는 <span style="color: #3f40d3;">대여소</span>가 있다.<br>수영장 전체를 둘러싸는 형태로 긴 <span style="color: #3f40d3;">워터 슬라이드</span>가 설치되어 있어 눈길을 끈다.</p>
<button onclick="goTo('mainpool')">메인 풀</button>
<button onclick="goTo('borrow')">대여소</button>
<button onclick="goTo('slide')">워터 슬라이드</button><br>
    <button class="nav-button" onclick="goTo('training')">나가기</button>
 </div> 

   <!-- 메인 풀 --> 
<div id="mainpool" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[메인 풀]</span><br><br>수영장 하면 떠오르는 이미지를 그대로 구현한 메인 풀.<br>수영의 기초를 연습하거나 다른 사람과 경주를 하기에 딱이다.<br>딱 시원할 정도의 수온이 기분 좋다.</p>
    <button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div> 

     <!-- 대여소 --> 
<div id="borrow" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
'대여소'라는 간판이 확 눈에 들어오는 부스.<br>수영장이나 물가에서 이용할 수 있는 다양한 장비를 빠짐없이 구비하고 있는 것 같다.<br>
<span style="color: #3f40d3;">튜브</span>를 빌리거나, <span style="color: #3f40d3;">나만의 장비 세트</span>를 빌릴 수 있다고 쓰여 있다.<br>나만의 장비 세트...?</p>
  <button onclick="goTo('tube')">튜브 빌리기</button>
<button onclick="goTo('setgame')">나만의 장비 세트 빌리기</button><br>
    <button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div>

       <!-- 대여소:튜브 --> 
<div id="tube" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
원하는 모양의 튜브를 빌릴 수 있다.<br>이곳에서 수영 연습을 위해 사용하거나, 바다에 가지고 나가 해수욕을 즐길 수도 있을 것 같다.</p>
    <button id="aaam" onclick="goTodel('tube1', 'aaam')">빌린다</button><br>
    <button class="nav-button" onclick="goTo('borrow')">나가기</button>
 </div> 

       <!-- 대여소:튜브 --> 
<div id="tube1" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
어떤 튜브를 빌릴까?</p>
  <button onclick="goTo('tube2')">평범한 튜브</button>
    <button onclick="goTo('tube3')">돌고래 모양 튜브</button>
    <button onclick="goTo('tube4')">피자 모양 튜브</button>
 </div> 

       <!-- 대여소:튜브 --> 
<div id="tube2" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
평범한 원형 튜브를 빌렸다. 조금 밋밋하지만, 물놀이의 정석 하면 이 튜브!</p>
  <button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div> 

         <!-- 대여소:튜브 --> 
<div id="tube3" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
돌고래 모양 튜브를 빌렸다. 물살을 가르는 한 마리 바다 생물이 되어 보자.</p>
  <button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div> 

         <!-- 대여소:튜브 --> 
<div id="tube4" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
피자 모양 튜브를 빌렸다. 바다 위를 한가롭게 떠다니는 피자 한 조각이 되어 보자.</p>
  <button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div> 
  
       <!-- 대여소:나.장.빌 --> 
<div id="setgame" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
"나만의 개성이 듬뿍 담긴 물놀이 장비 세트를 만들어 보세요."<br>라고 쓰여 있다.<br>한 번 해 볼까?</p>
  <button id="stgm" onclick="goTodel('setgame1', 'stgm')">빌린다</button><br>
    <button class="nav-button" onclick="goTo('borrow')">나가기</button>
 </div> 

         <!-- 대여소:나.장.빌 --> 
<div id="setgame1" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
대여소 부스 앞에 서자, 갑자기 세 개의 아이템이 튀어나왔다!<br>하나를 골라야 하는 것 같다...</p>
<button onclick="increaseStatAndGo('beauty', 'setgame2')">꽃으로 화사하게 장식된 물총</button><br>
<button onclick="increaseStatAndGo('power', 'setgame2')">바주카포를 닮은 물총</button><br>
<button onclick="increaseStatAndGo('funny', 'setgame2')">음료수인 척하는 물총</button><br>
 </div> 

         <!-- 대여소:나.장.빌 --> 
<div id="setgame2" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
다시 한 번 세 개의 아이템이 튀어나왔다!<br>하나를 골라야 하는 것 같다...</p>
<button onclick="increaseStatAndGo('funny', 'setgame3')">해바라기 선글라스</button><br>
<button onclick="increaseStatAndGo('beauty', 'setgame3')">예쁜 밀짚모자</button><br>
<button onclick="increaseStatAndGo('power', 'setgame3')">카리스마 선글라스</button><br>
 </div> 

         <!-- 대여소:나.장.빌 --> 
<div id="setgame3" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
다시 한 번 세 개의 아이템이 튀어나왔다!<br>하나를 골라야 하는 것 같다...</p>
<button onclick="increaseStatAndGo('funny', 'setgame4')">펀치 파마 가발</button><br>
<button onclick="increaseStatAndGo('power', 'setgame4')">험악한 문신 스티커</button><br>
<button onclick="increaseStatAndGo('beauty', 'setgame4')">인어 꼬리</button><br>
 </div> 

         <!-- 대여소:나.장.빌 --> 
<div id="setgame4" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
다시 한 번 세 개의 아이템이 튀어나왔다!<br>하나를 골라야 하는 것 같다...</p>
<button onclick="increaseStatAndGo('power', 'setgame5')">맥주인 척하는 탄산음료</button><br>
<button onclick="increaseStatAndGo('beauty', 'setgame5')">반투명한 파란색 사탕</button><br>
<button onclick="increaseStatAndGo('funny', 'setgame5')">수염 모양 젤리</button><br>
 </div> 

         <!-- 대여소:나.장.빌 --> 
<div id="setgame5" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[대여소]</span><br><br>
모든 아이템을 고르자, 부스 안에서 안내음이 들려온다.<br><br><span id="setgame-message"></span><br><br>이 장비를 그대로 대여해도 될 것 같다.</p>
<button class="nav-button" onclick="goTo('borrow')">나가기</button>
 </div> 
  
       <!-- 워터 슬라이드 --> 
<div id="slide" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[워터 슬라이드]</span><br><br>
꽤 큰 규모의 워터 슬라이드. 깎아지른 듯한 경사를 지켜보는 것만으로도 스릴을 느낄 수 있을 것 같다.</p>
<button id="faaam" onclick="goTodel('slide1', 'faaam')">워터 슬라이드를 탄다</button><br>
<button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div> 

<!-- 워터 슬라이드 --> 
<div id="slide1" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[워터 슬라이드]</span><br><br>
튜브를 탄 채로 워터 슬라이드에서 하강했다!<br>엄청난 속도감과 함께 짜릿함이 느껴진다.<br><br>정말 즐거웠다...<br>한 번 더 탈까?</p>
<button onclick="goTo('slide2')">한 번 더 탄다</button><br>
<button class="nav-button" onclick="goTo('slidestop')">그만둔다</button>
 </div> 

  <!-- 워터 슬라이드 --> 
<div id="slidestop" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[워터 슬라이드]</span><br><br>
이 정도로 즐거울 때 멈추는 게 좋겠지. 워터 슬라이드에서 내려와 튜브를 반납했다.</p>
<button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div> 
  
  <!-- 워터 슬라이드 --> 
<div id="slide2" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[워터 슬라이드]</span><br><br>
이번에는 더더욱 기세 좋게 미끄러졌다! 귓가에서 바람 소리가 윙윙 울릴 정도다.<br><br>한 번 더 탈까?</p>
<button onclick="goTo('slide3')">한 번 더 탄다</button><br>
<button class="nav-button" onclick="goTo('slidestop')">그만둔다</button>
 </div> 
  <!-- 워터 슬라이드 --> 
<div id="slide3" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[워터 슬라이드]</span><br><br>
빙글빙글 회전하면서 워터 슬라이드를 타고 내려왔다!<br>윽, 슬슬 멀미가 나는데...<br><br>그래도 한 번 더 탈까?</p>
<button onclick="goTo('slide4')">한 번 더 탄다</button><br>
<button class="nav-button" onclick="goTo('slidestop')">그만둔다</button>
 </div> 

  <!-- 워터 슬라이드 --> 
<div id="slide4" class="hidden">
<p><span style="font-weight: bold;">[트레이닝 룸]/[수영장]<br>[워터 슬라이드]</span><br><br>
튜브를 거꾸로 탄 채로 워터 슬라이드를 타고 내려왔다!<br>네 번이나 연속해서 타고 나니 속이 울렁거린다...<br><br>워터 슬라이드를 마스터했다.<br>이만 나가기로 하자.</p>
<button class="nav-button" onclick="goTo('swimming')">나가기</button>
 </div> 

  <!-- 샤워실 --> 
    <div id="shower" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[샤워실]</span><br><br>
운동으로 지쳤을 때 땀을 씻어낼 수 있는 샤워실.<br><span style="color: #3f40d3;">세면대</span>와 <span style="color: #3f40d3;">화장대</span>는 공용이지만, 샤워 부스는 전부 개인용이다.</p>
    <button onclick="goTo('shower1')">세면대</button>
    <button onclick="goTo('shower2')">화장대</button><br>
    <button class="nav-button" onclick="goTo('training')">나가기</button>
    </div>   

    <!-- 세면대 --> 
    <div id="shower1" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[샤워실]<br>[세면대]</span><br><br>
땀을 흘릴 정도의 운동을 하지 않았다면 가볍게 세수를 하고 가는 것도 괜찮을 것 같다.</p>
    <button onclick="goTo('shower1-1')">세수를 한다</button><br>
    <button class="nav-button" onclick="goTo('shower')">나가기</button>
    </div>   

    <!-- 세면대 --> 
    <div id="shower1-1" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[샤워실]<br>[세면대]</span><br><br>
뽀득뽀득 얼굴을 씻었다. 한결 상쾌해진 기분이다!</p>
    <button class="nav-button" onclick="goTo('shower')">나가기</button>
    </div>   

    <!-- 화장대 --> 
    <div id="shower2" class="hidden">
    <p><span style="font-weight: bold;">[트레이닝 룸]/[샤워실]<br>[화장대]</span><br><br>
샤워 후 스킨 케어를 할 수 있는 화장대.<br>드라이기, 고데기, 손 건조기 등이 완비되어 있다.</p>
    <button class="nav-button" onclick="goTo('shower')">나가기</button>
    </div>   
  
    <!-- 카페 --> 
    <div id="cafe" class="hidden">
    <p><span style="font-weight: bold;">[카페]</span><br><br>
음료수와 디저트를 즐길 수 있는 한적한 무인카페.<br>차분한 노래가 작게 흘러나와 평화로운 분위기를 유지하고 있다.<br><span style="color: #3f40d3;">자리</span>를 맡은 후 <span style="color: #3f40d3;">카페 카운터</span>에서 주문하면 될 것 같다.</p>
    <button onclick="goTo('zari')">자리를 맡는다</button>
    <button onclick="goTo('cafecounter')">카페 카운터</button><br>
    <button class="nav-button" onclick="goTo('4thfloor')">나가기</button>
    </div>  
 
    <!-- 자리 --> 
    <div id="zari" class="hidden">
    <p><span style="font-weight: bold;">[카페]</span><br><br>
둥근 테이블에 푹신한 의자가 두 개씩 놓여 있다.<br>쓸데없이 낮거나 높지 않아 편하다.<br>중요한 이야기부터 시시콜콜한 잡담까지 이야기를 나누기에 좋아 보인다.</p>
    <button onclick="goTo('zari1')">자리에 앉는다</button><br>
    <button class="nav-button" onclick="goTo('cafe')">나가기</button>
    </div>   

    <!-- 자리1 --> 
    <div id="zari1" class="hidden">
    <p><span style="font-weight: bold;">[카페]</span><br><br>
혼자 온 손님에게는 맞은편 자리에 동물 인형을 놓아 주는 것 같다.<br>공허한 눈의 펭귄 인형이 이쪽을 바라본다...</p>
    <button onclick="goTo('zari2')">"안녕?" (말을 건다)</button><br>
    <button class="nav-button" onclick="goTo('cafe')">나가기</button>
    </div>   

    <!-- 자리2 --> 
    <div id="zari2" class="hidden">
    <p><span style="font-weight: bold;">[카페]</span><br><br>
<em>"안녕?"</em><br>이쪽의 말을 따라한다... 한층 마음이 공허해졌다.</p>
    <button class="nav-button" onclick="goTo('cafe')">나가기</button>
    </div>   

    <!-- 카페 --> 
    <div id="cafecounter" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]</span><br><br>
메뉴를 주문하거나 필요한 물건을 빌릴 수 있는 카운터.<br><span style="color: #3f40d3;">메뉴판</span>과 작은 <span style="color: #3f40d3;">북트럭</span>이 있다.</p>
    <button onclick="goTo('menupan')">메뉴판</button>
    <button onclick="goTo('booktruck')">북트럭</button><br>
    <button class="nav-button" onclick="goTo('cafe')">나가기</button>
    </div>   

    <!-- 카페 메뉴판 --> 
    <div id="menupan" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
메뉴판이라고는 믿을 수 없을 정도로 두껍다.<br>펼쳐 보니 커피, 논커피, 주스부터 리프레시 존을 의식한 듯한 단백질 쉐이크까지 없는 게 없다.<br>메뉴를 고르기 어려울 때는 선택을 점장에게 맡길 수도 있다고 한다...<br>그런데 점장이라고 해도 공증인인가?<br><br>주문을 하는 대신 <span style="color: #3f40d3;">음료 디스펜서 V3.0</span>을 이용할 수도 있다.<br>V3.0...?</p>
    <button id="dka" onclick="goTodel('menupan1', 'dka')">메뉴를 주문한다</button><br>
    <button id="dkaa" onclick="goTodel('menupan2', 'dkaa')">점장에게 맡긴다</button><br>
    <button onclick="goTo('dispenser')">음료 디스펜서 V3.0</button><br>
    <button class="nav-button" onclick="goTo('cafecounter')">나가기</button>
    </div>  

   <!-- 카페 메뉴판 --> 
    <div id="menupan1" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
어렵게나마 메뉴를 골라 주문을 마쳤다.<br>카운터 안쪽의 조리대에서 로봇이 음료와 디저트를 만들기 시작해, 조금 더 기다리면 자리까지 서빙해 준다.<br><br><em>"맛있게 드시길 바랍니다."</em></p>
    <button class="nav-button" onclick="goTo('menupan')">나가기</button>
    </div>  

   <!-- 카페 메뉴판 --> 
    <div id="menupan2" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
점장에게 선택을 맡겼다.<br>그러자 카운터 안쪽의 조리대에서 로봇이 음료와 디저트를 만들기 시작해, 조금 더 기다리면 자리까지 서빙해 준다. 나온 것은...</p>
    <button id="sfbtn" onclick="omakase('sfbtn')">나온 메뉴를 확인한다</button>
    </div>  

   <!-- 카페 메뉴판 --> 
    <div id="menupan3" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
<em>"맛있게 드시길 바랍니다."</em><br><br>칡즙과 무설탕 우엉 브라우니가 나왔다.</p>
  <button class="nav-button" onclick="goTo('menupan')">나가기</button>
    </div>  
   <!-- 카페 메뉴판 --> 
    <div id="menupan4" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
<em>"맛있게 드시길 바랍니다."</em><br><br>양파즙과 피스타치오 크런치 바가 나왔다.</p>
  <button class="nav-button" onclick="goTo('menupan')">나가기</button>
    </div>  
   <!-- 카페 메뉴판 --> 
    <div id="menupan5" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
<em>"맛있게 드시길 바랍니다."</em><br><br>녹즙과 바나나 캐슈넛 팬케이크가 나왔다.</p>
  <button class="nav-button" onclick="goTo('menupan')">나가기</button>
    </div> 
   <!-- 카페 메뉴판 --> 
    <div id="menupan6" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
<em>"맛있게 드시길 바랍니다."</em><br><br>당근 주스와 아몬드 베리 스무디 볼이 나왔다.</p>
  <button class="nav-button" onclick="goTo('menupan')">나가기</button>
    </div>  
   <!-- 카페 메뉴판 --> 
    <div id="menupan7" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[메뉴판]</span><br><br>
<em>"맛있게 드시길 바랍니다."</em><br><br>초콜릿 향 두유와 마카다미아 레몬 타르트가 나왔다.</p>
  <button class="nav-button" onclick="goTo('menupan')">나가기</button>
    </div>  
 
    <!-- 북트럭 --> 
    <div id="booktruck" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[북트럭]</span><br><br>
커피를 마시며 독서를 즐길 수 있도록 도서관에서 지원한 책 몇 권이 정리되어 있다.<br>다 읽은 다음에는 자리에 되돌려 놓자.<br>그 밖에 담요나 물티슈 등도 자유롭게 쓸 수 있도록 비치되어 있다.</p>
   <button id="dkaf" onclick="goTodel('booktruck1', 'dkaf')">책을 살펴본다</button><br>
   <button class="nav-button" onclick="goTo('cafecounter')">나가기</button>
    </div>   
  
    <!-- 북트럭 --> 
    <div id="booktruck1" class="hidden">
    <p><span style="font-weight: bold;">[카페]/[카페 카운터]<br>[북트럭]</span><br><br>
책 한 권을 골라 뽑아들었다.<br>제목은... 「영세불망 -희망의 기록과 절망의 재능」?<br>재밌을까?<br><br>책 사이에 코인이 하나 끼워져 있었다.<br><span style="font-weight: bold;">1코인을 획득했다.</span></p>
   <button class="nav-button" onclick="goTo('cafecounter')">나가기</button>
    </div>   

   <!-- 스파 --> 
<div id="spa" class="hidden">
<p><span style="font-weight: bold;">[스파]</span><br><br>온욕과 찜질을 즐길 수 있는 스파...?<br>불한증막과 안마의자, 냉가마 등이 있는, 누군가에게는 익숙하고 누군가에게는 새로울 공간.<br><span style="color: #3f40d3;">탈의실</span>에서 옷을 갈아입고 안으로 들어갈 수 있다.</p>
    <button onclick="goTo('change')">탈의실</button><br>
    <button class="nav-button" onclick="goTo('4thfloor')">나가기</button>
 </div> 

 <!-- 스파 --> 
<div id="change" class="hidden">
<p><span style="font-weight: bold;">[스파]/[탈의실]</span><br><br>탈의실 안에는 깨끗한 사우나복과 수건이 배치되어 있다.<br>여기서 옷을 갈아입은 다음 열쇠를 들고 안으로 들어가면 될 것 같다.</p>
    <button onclick="goTo('spa1')">들어간다</button><br>
    <button class="nav-button" onclick="goTo('spa')">나가기</button>
 </div> 

 <!-- 스파 --> 
<div id="spa1" class="hidden">
<p><span style="font-weight: bold;">[스파]</span><br><br>넓은 공간에 작은 <span style="color: #3f40d3;">매점</span>과 다양한 방들이 있다.<br><span style="color: #3f40d3;">불한증막</span>, <span style="color: #3f40d3;">냉가마</span>, <span style="color: #3f40d3;">안마 의자</span>까지...<br>쾌적한 공간에 베개가 굴러다니니 누우면 잠이 솔솔 올 것 같다.<br>충분히 쉰 다음 <span style="color: #3f40d3;">목욕탕</span>에 들어가 보자.</p>
    <button onclick="goTo('store')">매점</button>
    <button onclick="goTo('bulhanzungmak')">불한증막</button>
    <button onclick="goTo('naenggama')">냉가마</button>
    <button onclick="goTo('anma')">안마 의자</button>
    <button onclick="goTo('tang')">목욕탕</button><br>
    <button class="nav-button" onclick="goTo('change')">나가기</button>
 </div> 

 <!-- 매점 --> 
<div id="store" class="hidden">
<p><span style="font-weight: bold;">[스파]/[매점]</span><br><br>
간단한 먹을 거리를 제공하는 매점.<br>구운 계란이나 컵라면, 팥빙수, 냉커피와 식혜 등을 주문할 수 있다.<br>과자나 아이스크림도 잔뜩 놓여 있어 유혹을 뿌리치기 어렵다.</p>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 


 <!-- 불한증 --> 
<div id="bulhanzungmak" class="hidden">
<p><span style="font-weight: bold;">[스파]/[불한증막]</span><br><br>
편백나무 향이 물씬 나는 건식 사우나실. 75도로 내부 온도가 설정되어 있어 몹시 후덥지근하다.<br>마음껏 땀을 빼되 무리하지 말고 꼭 어지러워지기 전에 나가도록 하자.</p>
    <button id="stg1btn" onclick="bhzm('stg1btn')">불한증막 안에서 버틴다</button><br>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 

 <!-- 불한증 --> 
<div id="bulhanzungmak1" class="hidden">
<p><span style="font-weight: bold;">[스파]/[불한증막]</span><br><br>
이 더위를 버텨야 사우나를 즐길 수 있는 법...이지만, 역시 더워! <br>저도 모르게 사우나실을 뒤로 하고 뛰쳐나오고 말았다... </p>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 

 <!-- 불한증 --> 
<div id="bulhanzungmak2" class="hidden">
<p><span style="font-weight: bold;">[스파]/[불한증막]</span><br><br>
잠자코 버티고 있으면, 2주간 쌓인 어두운 감정들이 땀과 함께 빠져나가는 것 같다.<br>깨끗한 마음으로 밖으로 나서려던 참에 바닥에서 코인 하나를 발견했다.<br><br><span style="font-weight: bold;">1코인을 획득했다.</span></p>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 

 <!-- 냉가마 --> 
<div id="naenggama" class="hidden">
<p><span style="font-weight: bold;">[스파]/[냉가마]</span><br><br>
한 걸음 딛은 바닥부터 얼음장 같은 냉가마. 영하 5도로 내부 온도가 설정되어 있어 몹시 춥다.<br>땀을 충분히 식히면 나가도록 하자.</p>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 

 <!-- 안마 --> 
<div id="anma" class="hidden">
<p><span style="font-weight: bold;">[스파]/[안마 의자]</span><br><br>
15분부터 1시간까지 자유롭게 시간과 강도를 설정할 수 있는 안마 의자.<br>앉으면 몸을 편안하게 풀어 준다.</p>
    <button id="no1" onclick="goTodel('anma1', 'no1')">몸을 맡긴다</button><br>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 

 <!-- 안마 --> 
<div id="anma1" class="hidden">
<p><span style="font-weight: bold;">[스파]/[안마 의자]</span><br><br>
...헉! 긴장이 풀려서 어느새 깜빡 잠든 것 같다.<br>몸이 한결 편안해졌다.<br>이미 안마는 끝났으니, 다음 사람을 위해 비켜 주자..</p>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 

 <!-- 탕 --> 
<div id="tang" class="hidden">
<p><span style="font-weight: bold;">[스파]/[목욕탕]</span><br><br>
따뜻한 물이 나오는 스파. 온도별로 다양한 탕이 있고, 수압 조절로 근육 이완을 돕는 안마탕도 있다.<br>따뜻한 물에 몸을 담그니 날카로워진 마음도 누그러지는 것 같다.</p>
    <button class="nav-button" onclick="goTo('spa1')">나가기</button>
 </div> 

  <!-- 도슨 씨가 찾아낸 공간 -->  
  <div id="dawson" class="hidden">
    <p><span style="font-weight: bold;">[정체불명의 공간]</span><br><br>이사도르가 찾아낸, 정체를 알 수 없는 공간.<br>이곳에 우리가 한 번도 직면한 적이 없는 진실이 있다고 했었지...</p>
    <button onclick="goToWithBGM('sec1', 'sec.mp3')">들어간다</button><br>
    <button class="nav-button" onclick="goToWithBGM('starting-point', 'zzapbgm.mp3')">건물 입구로 돌아가기</button>
  </div>

    <!-- 도슨 씨가 찾아낸 공간 -->  
  <div id="sec" class="hidden">
    <p><span style="font-weight: bold;">[정체불명의 공간]</span><br><br>어쩌면 이 앞에서 우리는 마주하고 싶지 않은 진실을 마주할지도 모른다.<br>하지만 그럼에도... ...</p>
        <button onclick="goTo('sec1')">나아간다</button>
    <button class="nav-button" onclick="goToWithBGM('starting-point', 'zzapbgm.mp3')">건물 입구로 돌아가기</button>
  </div>

  <!-- 도슨 씨가 찾아낸 공간 -->  
  <div id="sec1" class="hidden">
    <p><span style="font-weight: bold;">[연구실]</span><br><br>복도를 끝까지 따라가면 나오는 것은, 연구실로 보이는 둥근 방이다.<br>벽을 빼곡하게 메우다시피 읽을 수 없는 메모들이 붙어 있다.<br>방 전체에 걸쳐 <span style="color: #3f40d3;">서류 더미</span>가 쌓여 있어 나아갈 길을 만들기가 힘들 정도다.<br>메모지가 덕지덕지 붙여진 <span style="color: #3f40d3;">철제 보관함</span>, 그리고 문패가 없는 문 두 개가 보인다.<br>하나는 <span style="color: #3f40d3;">철로 된 문</span>, 다른 하나는 <span style="color: #3f40d3;">아치형 문</span>이다.</p>
    <button onclick="goTo('paper')">서류 더미</button>
        <button onclick="goTo('locker')">보관함</button>
        <button onclick="goTo('diedoor')">철제 문</button>
        <button onclick="goTo('secdoor')">아치형 문</button>
      <button class="nav-button" onclick="goTo('dawson')">나가기</button>
  </div>

    <!-- 도슨 씨가 찾아낸 공간 -->  
  <div id="paper" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[서류 더미]</span><br><br>
    서류를 살펴보면, 다양한 형식의 문자로 무언가가 빼곡히 적혀 있다.<br>일종의 암호일지도 모른다.<br>어느 쪽이 되었든 무척 복잡해 보이고, 하루이틀 걸려서 해독할 수 있는 글은 아닌 것 같다...<br>그나마 일상적으로 사용하는 문자에 가까운 것이 서너 줄 있어, 유일하게 내용을 알아볼 수 있다.</p>
  <button onclick="goTo('memo1')">첫 번째 메모</button><br>
  <button onclick="goTo('memo2')">두 번째 메모</button><br>  
  <button onclick="goTo('memo3')">세 번째 메모</button><br>  
    <button onclick="goTo('memo4')">네 번째 메모</button><br>  
    <button class="nav-button" onclick="goTo('sec1')">나가기</button>
  </div>

      <!-- 메모 -->  
  <div id="memo1" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[서류 더미]</span><br><br>
미래는 절망으로 가득 차 있다.</p>
    <button class="nav-button" onclick="goTo('paper')">나가기</button>
  </div>
        <!-- 메모 -->  
  <div id="memo2" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[서류 더미]</span><br><br>
불합리한 차별, 메워지지 않는 격차, 이유 없는 증오, 파괴와 분노...<br>우리는 이것들에 어떻게 맞서야 할 것인가?</p>
    <button class="nav-button" onclick="goTo('paper')">나가기</button>
  </div>
        <!-- 메모 -->  
  <div id="memo3" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[서류 더미]</span><br><br>
기록은 배신하지 않는다.</p>
    <button class="nav-button" onclick="goTo('paper')">나가기</button>
  </div>
        <!-- 메모 -->  
  <div id="memo4" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[서류 더미]</span><br><br>
죽음으로도 지울 수 없는 기록을 남기는 것이다.<br>이것이야말로, 영세불망의 희망.</p>
    <button class="nav-button" onclick="goTo('paper')">나가기</button>
  </div>

    <!-- 보관함 -->  
  <div id="locker" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[보관함]</span><br><br>
보관함은 대부분이 비어 있는 것 같다.</p>
  <button onclick="goTo('locker1')">하나하나 열어 본다</button><br>
    <button class="nav-button" onclick="goTo('sec1')">나가기</button>
  </div>
    <!-- 보관함 -->  
  <div id="locker1" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[보관함]</span><br><br>
유일하게 하나, 내용물이 들어 있는 보관함이 있다.</p>
  <button onclick="goTo('locker2')">확인한다</button><br>
    <button class="nav-button" onclick="goTo('locker')">나가기</button>
  </div>
      <!-- 보관함 -->  
  <div id="locker2" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[보관함]</span><br><br>
보관함 안에는 미래기관의 직원 카드로 보이는 것이 놓여 있다.<br><br>[초세계급 기록자 로렘] ID : lore0609</p>
    <button class="nav-button" onclick="goTo('locker')">나가기</button>
  </div>

        <!-- 로마에다쿤 -->  
  <div id="diedoor" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[철제 문]</span><br><br>
육중한 철제 문.<br>아무것도 쓰여 있지 않은 문 앞에 서자 희미하게 불쾌한 냄새가 난다.<br>열기 위한 자동 버튼이 문 옆에 부착되어 있다.<br><br><span style="color: #737373;">잔인하게 느껴질 수 있는 묘사가 포함되어 있습니다.</span></p>
   <button onclick="goTo('die1')">들어간다</button><br>   
    <button class="nav-button" onclick="goTo('sec1')">나가기</button>
  </div>

          <!-- 로마에다쿤 -->  
  <div id="die1" class="hidden">
    <p><span style="font-weight: bold;">[연구실]/[철제 문]</span><br><br>
문을 열고 들어가면 비릿한 냄새가 확 끼쳐 구역질이 난다.<br>눈에 띄는 가구나 설비 없이 대체로 비어 있는 방이지만, 철로 된 바닥이 검붉게 변색된 것이 눈에 띈다.<br>붉은 자국은 아래에서부터 뿌려진 듯한 형태로 벽에도 묻어 있다.<br>천장을 올려다보면 뾰족한 무언가가 눈에 들어온다.</p>
       <button onclick="goTo('diefloor')">바닥</button><br>  
       <button onclick="goTo('diewall')">벽</button>
      <button onclick="goTo('dieup')">천장</button>
    <button class="nav-button" onclick="goTo('diedoor')">나가기</button>
  </div>
  
<!-- 로렘 이스터에그 -->    
  <!-- 로렘 1-->  
  <div id="lore01" class="hidden">
    <p><span style="font-weight: bold;">[건물 입구]</span><br><br>흰 관을 연상시키는 건물. 그 입구에 다다른다.<br>돌로 된 정문 표면에는 당신이 기록한 문자가 빼곡히 음각으로 새겨져 있다.<br>이 섬은 당신의 유언이다.</p>
    <button onclick="goToWithBGM('sec', 'sec.mp3')">연구실로 향한다</button><br>    
  </div>

      <!-- 로렘 1-->  
  <div id="lore02" class="hidden">
    <p><span style="font-weight: bold;">[건물 입구]</span><br><br>흰 관을 연상시키는 건물. 그 입구에 다다른다.<br>돌로 된 정문 표면에는 당신이 기록한 문자가 빼곡히 음각으로 새겨져 있다.<br>이 섬은 당신의 유언이다.</p>
    <button onclick="goTo('lore2')">연구실로 향한다</button>
  </div>
  
<!-- !!!!여기서부터 스크립트!!!! -->
  <script>

let currentBGM = "zzapbgm.mp3";  // 초기값
let fadeDuration = 1000;         // 1초간 페이드 인/아웃
  // 애니메이션이 끝난 뒤 hover 작동 허용
  document.querySelectorAll('.menu-button').forEach(button => {
    button.addEventListener('animationend', () => {
      button.style.pointerEvents = 'auto';
    });
  });
//★★★★★[중요]유저 데이터★★★★★
    const userData = {
      mung0515: {
        class: "피자마스터 으믕",
        id: "ThePizzaMaster",
        STR: 6,
        INT: 6,
        OBS: 6,
        POW: 6,
        LUC: 6,
        key: 0,
        coin: 0
      },
      sese0409: {
        class: "감자마스터 세세",
        id: "Linguistics",
        STR: 1,
        INT: 1,
        OBS: 1,
        POW: 1,
        LUC: 1,
        key: 0,
        coin: 0
      },
        erne0409: {
        class: "재해과학자 에르네스토 프로켈",
        id: "NoClassToday",
        STR: 3,
        INT: 3,
        OBS: 3,
        POW: 3,
        LUC: 3,
        key: 0,
        coin: 0
      },
        liva3561: {
        class: "예언가 리반 에케로스",
        id: "Untitled",
        STR: 3,
        INT: 3,
        OBS: 3,
        POW: 3,
        LUC: 3,
        key: 0,
        coin: 0}
      ,
              taei0515: {
        class: "퇴마사 태이",
        id: "Taei",
        STR: 5,
        INT: 1,
        OBS: 1,
        POW: 3,
        LUC: 5,
        key: 0,
        coin: 0}
      ,
        pola2469: {
        class: "프론트맨 폴라리스 래피드",
        id: "polaris",
        STR: 5,
        INT: 4,
        OBS: 4,
        POW: 1,
        LUC: 5,
        key: 0,
        coin: 0}
      ,
        siny1538: {
        class: "약사 요시다 신",
        id: "SIN",
        STR: 2,
        INT: 5,
        OBS: 3,
        POW: 4,
        LUC: 2,
        key: 0,
        coin: 0}
      ,
        edit9947: {
        class: "과학수사관 에디트 발랑틴",
        id: "edit",
        STR: 4,
        INT: 4,
        OBS: 4,
        POW: 4,
        LUC: 4,
        key: 0,
        coin: 0}
      ,
        maur3085: {
        class: "소매치기 모리스 레비",
        id: "Levi",
        STR: 3,
        INT: 2,
        OBS: 4,
        POW: 2,
        LUC: 4,
        key: 0,
        coin: 0}
      ,
        jaha4287: {
        class: "스포츠 트레이너 원자한",
        id: "Jahan",
        STR: 4,
        INT: 4,
        OBS: 6,
        POW: 3,
        LUC: 2,
        key: 0,
        coin: 0}
      ,
        wied6391: {
        class: "필체감정사 비더 바이나흐텐",
        id: "WEIHNACHT",
        STR: 1,
        INT: 4,
        OBS: 6,
        POW: 1,
        LUC: 2,
        key: 0,
        coin: 0}
      ,
        isad2597: {
        class: "행정가 이사도르 도슨",
        id: "FT06_dawson",
        STR: 3,
        INT: 4,
        OBS: 5,
        POW: 6,
        LUC: 3,
        key: 0,
        coin: 0}
      ,
        zede0753: {
        class: "생존전문가 제더카이어 어비스",
        id: "AtoZ",
        STR: 5,
        INT: 3,
        OBS: 5,
        POW: 5,
        LUC: 3,
        key: 0,
        coin: 0}
      ,
        akir2740: {
        class: "화가 에이즈카 아키라",
        id: "akila",
        STR: 1,
        INT: 5,
        OBS: 5,
        POW: 5,
        LUC: 4,
        key: 0,
        coin: 0},
              rust8164: {
        class: "우체부 루스티카 테일윈드",
        id: "RUSTIC4",
        STR: 4,
        INT: 1,
        OBS: 4,
        POW: 3,
        LUC: 5,
        key: 0,
        coin: 0},
              seto2566: {
        class: "피아니스트 세토 아이비",
        id: "IVY",
        STR: 3,
        INT: 4,
        OBS: 5,
        POW: 3,
        LUC: 2,
        key: 0,
        coin: 0},
              kuki4917: {
        class: "해커 쿠루미 J. 쿠로키",
        id: "MACHO_KUKI",
        STR: 3,
        INT: 5,
        OBS: 4,
        POW: 3,
        LUC: 1,
        key: 0,
        coin: 0},
              nuri2925: {
        class: "체스마스터 하누리",
        id: "nuriNOW",
        STR: 1,
        INT: 4,
        OBS: 3,
        POW: 5,
        LUC: 4,
        key: 0,
        coin: 0},
              rose1928: {
        class: "괴도 로즈 핑크 돌핀",
        id: "RosePinkDolphin",
        STR: 4,
        INT: 4,
        OBS: 5,
        POW: 3,
        LUC: 3,
        key: 0,
        coin: 0},
              ivan2992: {
        class: "수의사 이반 카르포프",
        id: "ivan",
        STR: 4,
        INT: 5,
        OBS: 5,
        POW: 3,
        LUC: 2,
        key: 0,
        coin: 0},
              bury5792: {
        class: "고고학자 스트로 베리",
        id: "Berry",
        STR: 5,
        INT: 5,
        OBS: 5,
        POW: 5,
        LUC: 5,
        key: 0,
        coin: 0},
                 fome0838: {
        class: "탐험가 포멜하우트 에빌라",
        id: "Explorer",
        STR: 5,
        INT: 3,
        OBS: 3,
        POW: 5,
        LUC: 2,
        key: 0,
        coin: 0},
                       lore0609: {
        class: "기록자 로렘",
        id: "LoremIpsum",
        STR: 6,
        INT: 6,
        OBS: 6,
        POW: 6,
        LUC: 6,
        key: 0,
        coin: 0} 
    };

    let currentUser = null;
    let pageHistory = [];
    const outputIds = ['gym-result', 'library-result'];
    
//★★★★★로그인★★★★★
    function checkLogin() {
      const id = document.getElementById('id-input').value;
      if (userData[id]) {
        currentUser = userData[id];
        showWelcomeMessage(currentUser.class);
      } else {
        document.getElementById('login-error').innerText = "아이디가 일치하지 않습니다.";
      }
    }
  
//★★★★★환영 메시지★★★★★
function showWelcomeMessage(userClass) {
  document.getElementById('login-page').classList.add('hidden');
  const container = document.createElement('div');
  container.classList.add('typewriter');
  container.innerHTML = `초세계급 ${userClass} 님을 환영합니다. . .`;
  document.body.appendChild(container);

  setTimeout(() => {
    container.remove();
    showUserInfo();

    // ✅ 특정 유저면 lore01로, 아니면 기존대로 main-page로
    const targetPage = (typeof currentUser !== 'undefined' && currentUser.id === "LoremIpsum")
      ? "lore01"
      : "main-page";

    document.getElementById(targetPage).classList.remove('hidden');
    pageHistory.push(targetPage);
  }, 3600);
}

    
//★★★★★유저 인포메이션 창★★★★★
    function showUserInfo() {
      const userBox = document.getElementById('user-display');
      document.getElementById('user-class-line').innerHTML = `User ID: ${currentUser.id}`;
      document.getElementById('coin-line').innerText = `Coin: ${currentUser.coin || 0}`;
      userBox.classList.remove('hidden');
    }
    function updateCoinDisplay() {
      document.getElementById('coin-line').innerText = `Coin: ${currentUser.coin || 0}`;
    }
//★★★★★출력된 텍스트 아웃풋 창 넘어갈 때 지우기 (goTo 연동용)★★★★★
    function clearOutputs() {
      outputIds.forEach(id => {
        const el = document.getElementById(id);
        if (el) el.innerText = '';
      });
    }

//★★★★★goTo★★★★★
function goTo(page) {
  // 창 이동시 숨겨지지 않는 디스플레이 설정
  const exceptions = ['user-display','persistent-nav','bgm-player','bgm-player button'];  
  document.querySelectorAll('div').forEach(div => {
    const isException = exceptions.includes(div.id) || div.closest('#user-display') || div.closest('#persistent-nav');
    if (!isException) {
      div.classList.add('hidden');
    }
  });
  //지우고 페이드 인
  const target = document.getElementById(page);
  target.classList.remove('hidden');
  target.classList.add('fade-in');
  clearOutputs();
  pageHistory.push(page);
  //[중요]특정 페이지 진입 시 스탯(코인 등)변동
  if (['running3','booktruck1','bulhanzungmak2'].includes(page)) {
    currentUser.coin = (currentUser.coin || 0) + 1;
    updateCoinDisplay();
  }
  if (['climbing2','climbing3','notary5'].includes(page)) {
    currentUser.coin = (currentUser.coin || 0) + 2;
    updateCoinDisplay();
  }
  if (['anma1'].includes(page)) {
    currentUser.anma = 1;
    updateCoinDisplay();
  }
    if (['slide4'].includes(page)) {
    currentUser.slide = 1;
    updateCoinDisplay();
  }
        if (['tube2'].includes(page)) {
    currentUser.photo = "평범한 튜브";
    updateCoinDisplay();
  }
        if (['tube3'].includes(page)) {
    currentUser.photo = "돌고래 모양 튜브";
    updateCoinDisplay();
  }
        if (['tube4'].includes(page)) {
    currentUser.photo = "피자 모양 튜브";
    updateCoinDisplay();
  }
  if (page === 'setgame5') {
  showStatMessage();  // 메시지 출력 함수
}
    if (page === 'starting-point') {
    document.getElementById('persistent-nav').style.display = 'flex';
  }
//얘네는 버튼 없애기용인데 이렇게 하지 말고 goTodel 사용을 고려할 것 ...
  const flowerButton = document.getElementById('flower-button-box');
if (flowerButton) {
  // 한 번이라도 헌화한 경우에는 다시 보이지 않음
  flowerButton.style.display = (page === 'flowerpage') ? 'none' : 'block';
}
  const codebox = document.getElementById('codebox');
if (page === 'notary4' && codebox) {
  const alreadyUsed = codebox.getAttribute('data-used') === 'true';
  codebox.style.display = alreadyUsed ? 'none' : 'block';
}
  document.getElementById('user-display').classList.remove('hidden');
}
  

//★★★★★goTodel(이동과 동시에 버튼 삭제)★★★★★   
function goTodel(targetPage, buttonId) {
  const btn = document.getElementById(buttonId);
  if (btn) btn.remove(); // 한 번만 지움
  goTo(targetPage); // 기존 페이지 이동 로직 재사용
}
//★★★★★Fadeinout
    function fadeOutAudio(audio, duration) {
  return new Promise(resolve => {
    const step = 0.05;
    const interval = duration * step;
    const fade = setInterval(() => {
      if (audio.volume > step) {
        audio.volume -= step;
      } else {
        audio.volume = 0;
        audio.pause();
        clearInterval(fade);
        resolve();
      }
    }, interval);
  });
}

function fadeInAudio(audio, duration) {
  audio.volume = 0;
  audio.play().catch(e => console.warn("자동 재생 차단", e));
  const step = 0.05;
  const interval = duration * step;
  const fade = setInterval(() => {
    if (audio.volume < 0.95) {
      audio.volume += step;
    } else {
      audio.volume = 1;
      clearInterval(fade);
    }
  }, interval);
}

//★★★★★gowithBGM(이동과 동시에 버튼 삭제)★★★★★   
  async function goToWithBGM(page, bgmFile) {
  const bgmEl = document.getElementById('bgm');
  if (!bgmEl) return;

  if (currentBGM !== bgmFile) {
    await fadeOutAudio(bgmEl, fadeDuration);
    bgmEl.src = bgmFile;
    bgmEl.load();
    currentBGM = bgmFile;
    fadeInAudio(bgmEl, fadeDuration);
  }

  goTo(page);
}

//★★★★★goToWithSound(페이지 이동 버튼 누를 때 효과음(일시) 재생)★★★★★   
  function goToWithSound(page, soundFile) {
      const audio = new Audio(soundFile);
      audio.loop = false;
      audio.volume = 0.3;
      audio.play();
      goTo(page);
    }

//★★★★★goToWithSound(페이지 이동 버튼 누를 때 효과음 계속해서 재생, 루프)★★★★★  
let zzapseaAudio = null;
let zzapportAudio = null;

function goToWithSoundNL(page, soundFile) {
  if (soundFile.includes('zzapsea.mp3')) {
    zzapseaAudio = new Audio(soundFile);
    zzapseaAudio.loop = true;
    zzapseaAudio.play();
  } else if (soundFile.includes('zzapport.mp3')) {
    zzapportAudio = new Audio(soundFile);
    zzapportAudio.loop = true;
    zzapportAudio.play();
  } else {
    const audio = new Audio(soundFile);
    audio.loop = true;
    audio.play();
  }
  goTo(page);
}

//★★★★★해당 버튼을 누를 시, 페이지 이동과 동시에 zzapseaAudio 중지★★★★★
function goToWithoutzzapsea(page) {
  if (zzapseaAudio && !zzapseaAudio.paused) {
    zzapseaAudio.pause();
    zzapseaAudio.currentTime = 0;
  }
  if (zzapportAudio && !zzapportAudio.paused) {
    zzapportAudio.pause();
    zzapportAudio.currentTime = 0;
  }
  goTo(page);
}

//★★★★★goBack★★★★★  
function goBack() {
  if (pageHistory.length > 1) {
    // 현재 페이지 제거
    pageHistory.pop();
    const prevPage = pageHistory[pageHistory.length - 1];

    // 예외 요소들 (루트 + 내부 포함 전부 보호)
    const persistentRoots = ['user-display', 'bgm-player', 'persistent-nav'];

    // 모든 div를 숨기되, 예외 요소 또는 그 자식은 숨기지 않음
    document.querySelectorAll('div').forEach(div => {
      const isPersistent = persistentRoots.some(rootId => {
        const rootEl = document.getElementById(rootId);
        return rootEl && (div === rootEl || rootEl.contains(div));
      });
      if (!isPersistent) {
        div.classList.add('hidden');
      }
    });

    // 이전 페이지 보여주기
    const target = document.getElementById(prevPage);
    if (target) {
      target.classList.remove('hidden');
      target.classList.add('fade-in');
    }

    // 텍스트 강제 갱신 (혹시라도 브라우저 캐시가 날려버린 경우)
    if (currentUser) {
      const idLine = document.getElementById('user-class-line');
      const coinLine = document.getElementById('coin-line');
      if (idLine) idLine.innerText = `User ID: ${currentUser.id}`;
      if (coinLine) coinLine.innerText = `Coin: ${currentUser.coin || 0}`;
    }

    // 출력 영역 초기화
    clearOutputs();
  }
}


//여기서부터 특정 장소에서 사용하도록 되어 있는 함수!!!!
//★★★★모노폴리★★★★
function mnplPOW(buttonId) {
  if (currentUser.POW <= 2) {
    goTo('monopolylose');
  } else {
    goTo('monopolywin');
  }
    const btn = document.getElementById(buttonId);
    if (btn) btn.remove()  // 단 한 번만 제거
}
function mnplINT(buttonId) {
  if (currentUser.INT <= 2) {
    goTo('monopolylose');
  } else {
    goTo('monopolywin');
  }
    const btn = document.getElementById(buttonId);
    if (btn) btn.remove()  // 단 한 번만 제거
}
function mnplLUC(buttonId) {
  if (currentUser.LUC <= 2) {
    goTo('monopolylose');
  } else {
    goTo('monopolywin');
  }
    const btn = document.getElementById(buttonId);
    if (btn) btn.remove()  // 단 한 번만 제거
}
//★★★★불한증막★★★★
function bhzm(buttonId) {
  if (currentUser.POW <= 3) {
    goTo('bulhanzungmak1');
  } else {
    goTo('bulhanzungmak2');
  }
    const btn = document.getElementById(buttonId);
    if (btn) btn.remove()  // 단 한 번만 제거
}
//★★★★클라이밍★★★★
function chall(buttonId) {
  if (currentUser.STR <= 4) {
    goTo('climbing2');
  } else {
    goTo('climbing3');
  }
    const btn = document.getElementById(buttonId);
    if (btn) btn.remove()  // 단 한 번만 제거
}
//★★★★★스탯메시지★★★★★
function showStatMessage() {
const stats = {
  beauty: currentUser.beauty ?? 0,
  power: currentUser.power ?? 0,
  funny: currentUser.funny ?? 0
};
  const maxValue = Math.max(stats.beauty, stats.power, stats.funny);

  // 최고값을 가진 스탯들 모으기
  const topStats = Object.keys(stats).filter(stat => stats[stat] === maxValue);

  // 동률 중에서 랜덤 선택
  const chosen = topStats[Math.floor(Math.random() * topStats.length)];

  const messages = {
    beauty: '"시선을 사로잡는 미학! 청량한 여름 느낌이 가득한 아름다운 장비 세트입니다."',
    power: '"타의 추종을 불허하는 힘의 소유자! 눈빛 한 번으로 좌중을 압도할 수 있는 장비 세트입니다."',
    funny: '"압도적으로 파괴적인 센스! 어디에 있어도 시선을 끌 수 있는 파격적인 장비 세트입니다."'
  };

  const msgEl = document.getElementById('setgame-message');
  if (msgEl) {
    msgEl.innerText = messages[chosen] || '"기록 오류. 관리자에게 문의하세요."';
  }
}
    
//★★★★★퀴즈★★★★★
function checkSecretCode() {
  const input = document.getElementById('secret-code-input').value;
  if (input === "75") { // 원하는 정답
    const codebox = document.getElementById('codebox');
    if (codebox) {
      codebox.style.display = 'none';
      codebox.setAttribute('data-used', 'true');  // ✅ 한 번 사용했음을 표시
    }
    goTo('notary5');
  } else {
    const result = document.getElementById('secret-code-result');
    result.innerText = "공증인은 침묵하고 있다... 아무래도 이게 정답이 아닌 것 같다.";
  }
}    

//★★★★팝콘뽑기->벤치프레스로개조함★★★★
function getpopcorn(buttonId) {
  if (currentUser.STR <= 2) {
    goTo('bench1');
  } else if (currentUser.STR >= 4) {
    goTo('bench2');
  } else {
    goTo('bench3');
  }
    const btn = document.getElementById(buttonId);
    if (btn) btn.remove()  // 단 한 번만 제거
}

//★★★★★음료 디스펜서★★★★★
// 음료 효과음 공통
let drinkAudio = new Audio("zzapdrink.mp3");
function playDrinkSound() {
  drinkAudio.pause();
  drinkAudio.currentTime = 0;
  drinkAudio.play();
}
// 일반 음료 선택 함수
function selectDrink(type) {
  const messages = {
    mango: { title: "망고 주스", desc: "달콤한 맛이 매력인 망고 주스. 한 모금 머금고 바다를 바라보면 여기가 열대 바캉스!" },
    "soda": { title: "소다 플로트", desc: "탄산음료에 바닐라 아이스크림 한 스쿱을 추가. 상큼함과 달달함을 동시에." },
    "bingsu": { title: "눈꽃 빙수", desc: "우유 얼음을 갈아 달콤한 연유를 올렸다. 마음까지 시원해진다." }
  };
  const msg = messages[type];
  const resultBox = document.getElementById("drink-result");
  resultBox.innerHTML = `<p><span style="font-weight: bold;">[${msg.title}]</span><br><br>${msg.desc}</p>`;
  // 애니메이션 적용
  resultBox.style.animation = "none";
  void resultBox.offsetWidth;
  resultBox.style.animation = "pop 0.6s ease-out";
  playDrinkSound();
}
//랜덤 음료
let randomClickCount = 0;
const randomLimit = 3;
function selectRandomDrink() {
  if (randomClickCount >= randomLimit) {
    document.getElementById("drink-result").innerText = "오늘의 사용 횟수를 초과한 모양이다.";
    return;
  }
  const messages = [
    { title: "고농축 에스프레소 (30배 함량)", desc: "추천인 : 하누리" },
    { title: "스코빌 지수 50만! 고추맛쉐이크", desc: "추천인 : 하누리" },
    { title: "청어 진액", desc: "추천인 : 미아 콜린스" },
    { title: "녹차", desc: "추천인 : 미아 콜린스" },
    { title: "운동 후 먹기 좋은 건강 음료 ver.3", desc: "추천인 : 원자한" },
    { title: "식초", desc: "추천인 : 이반 카르포프" },
    { title: "락스", desc: "추천인 : 이반 카르포프" },
    { title: "우메보시맛 콜라", desc: "추천인 : 에이즈카 아키라" },
    { title: "간장맛 콜라", desc: "추천인 : 에이즈카 아키라" },
    { title: "싫어하는 사람이라고 나쁜 거 줄 수 없으니까 코코아!!", desc: "추천인 : 루스티카 테일윈드" },
    { title: "흙탕물", desc: "추천인 : 모리스 레비" },
    { title: "따뜻한 꿀우유", desc: "추천인 : 스트로 베리" },
    { title: "흑당 버블티", desc: "추천인 : 스트로 베리" },
    { title: "흙탕물", desc: "추천인 : 제더카이어 어비스" },
    { title: "고추장 스파클링 라떼", desc: "추천인 : 제더카이어 어비스" },    
    { title: "이산화규소 수용액 1920g", desc: "추천인 : 에디트 발랑틴" },   
    { title: "염화칼슘 수용액 120g", desc: "추천인 : 에디트 발랑틴" },   
    { title: "이산화탄소", desc: "추천인 : 리반 에케로스" },   
    { title: "푸룬주스", desc: "추천인 : 쿠루미 J. 쿠로키" },   
    { title: "교직원식당의 홍차", desc: "에르네스토 프로켈" },   
    { title: "마그마", desc: "에르네스토 프로켈" },   
    { title: "소금 99% 소금물", desc: "태이" },   
    { title: "구마용 성수", desc: "태이" },   
    { title: "민트초코 파르페", desc: "공증인" },   
    { title: "석유", desc: "공증인" }
  ];
  const randomIndex = Math.floor(Math.random() * messages.length);
  const msg = messages[randomIndex];
  const resultBox = document.getElementById("drink-result");
  resultBox.innerHTML = `<p><span style="font-weight: bold;">[${msg.title}]</span><br><br>${msg.desc}</p>`;
  // 애니메이션 재적용
  resultBox.style.animation = "none";
  void resultBox.offsetWidth;
  resultBox.style.animation = "pop 0.6s ease-out";
  playDrinkSound();
  // 클릭 횟수 증가
  randomClickCount++;
  if (randomClickCount >= randomLimit) {
    document.getElementById("random-button").disabled = true;
    document.getElementById("random-button").innerText = "사용 불가";
  }
}

//랜덤음료공모전
function addgongmo() {
  const input = document.getElementById('gongmo').value.trim();
  // currentUser.gongmo가 없다면 초기화
  if (!currentUser.gongmo) {
    currentUser.gongmo = [];
  }
  // 2번 이상 제출 시 제한
  if (currentUser.gongmo.length >= 1) {
    alert("이미 메시지를 보냈습니다.");
    return;
  }
  if (input === "") {
    alert("메시지를 입력해 주세요.");
    return;
  }
  // 제출 처리
  currentUser.gongmo.push(input);
  document.getElementById('gongmo-result').innerText = "메시지를 작성했습니다.";
  document.getElementById('gongmo').value = "";
}

  //스탯 올리고 고투
function increaseStatAndGo(statName, targetPage) {
  if (!currentUser) return;

  // 해당 스탯이 없다면 초기화
  if (!currentUser.hasOwnProperty(statName)) {
    currentUser[statName] = 0;
  }

  currentUser[statName] += 1;
  goTo(targetPage);
}
//스탯에 이름 넣고 고투
function setStatAndGo(statName, value, targetPage) {
  if (!currentUser) return;

  // 해당 스탯에 원하는 값을 할당
  currentUser[statName] = value;

  goTo(targetPage);
}

    
  </script>
<script src="final-report.js"></script>
</body>
</html>
